!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=61)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.htmlToElement=function(t){var e=document.createElement("template");return e.innerHTML=t,e.content.firstChild},e.createAttributesObserver=function(t,e){var n=new window.MutationObserver(function(t){var n=t.find(function(t){return"attributes"===t.type});n&&e(n)});return n.observe(t,{attributes:!0}),n.disconnect},e.setChild=function(t,e){t.childElementCount?t.replaceChild(e,t.childNodes[0]):t.appendChild(e)}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SVG_NS_URI="http://www.w3.org/2000/svg",e.convertPointToSvgCoords=function(t,e){var n=e.x,r=e.y,i=t.createSVGPoint();i.x=n,i.y=r;var o=i.matrixTransform(t.getScreenCTM().inverse());return{x:o.x,y:o.y}};var r=e.exportCoordsFromEvent=function(t){if(!t.touches)return{clientX:t.clientX,clientY:t.clientY};var e=t.touches[0];return{clientX:e.clientX,clientY:e.clientY}};e.getMousePosition=function(t,e){var n=t.getScreenCTM(),i=r(e),o=i.clientX,a=i.clientY;return{x:Math.floor((o-n.e)/n.a),y:Math.floor((a-n.f)/n.d)}},e.encodeTransformAttribute=function(t){return"translate("+t.x+","+t.y+")"},e.decodeTransformAttribute=function(t){if(t){var e=t.split(" ").find(function(t){return t.match(/translate\(.+\)/gm)});if(e){var n=e.match(/[0-9]*\.*[0-9]+/gm).map(function(t){return parseFloat(t)});return{x:n[0],y:n[1]}}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return p}),n.d(e,"__values",function(){return f}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return y}),n.d(e,"__await",function(){return _}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return C}),n.d(e,"__asyncValues",function(){return g}),n.d(e,"__makeTemplateObject",function(){return m}),n.d(e,"__importStar",function(){return b}),n.d(e,"__importDefault",function(){return E});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function p(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof _?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(t){l(o[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function C(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:_(t[r](e)),done:"return"===r}:i?i(e):e})}}function g(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):f(t)}function m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function b(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,p=(15&s)<<2|c>>6,f=63&c;u||(f=64,a||(p=64)),r.push(n[l],n[h],n[p],n[f])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),p=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},f="FirebaseError",d=Error.captureStackTrace;var y=function(){return function(t,e){if(this.code=t,this.message=e,d)d(this,_.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=f,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();y.prototype=Object.create(Error.prototype),y.prototype.constructor=y,y.prototype.name=f;var _=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new y(i,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();function v(t){return JSON.parse(t)}var C=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(c(o[0])||""),n=v(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},g=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},m=function(t,e){return g(e,function(e,n){t[e]=n}),t},b=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},E=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(function(){return function(){this.blockSize=-1}}());var w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function T(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.assert=o,e.assertionError=a,e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.CONSTANTS=i,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=h,e.getUA=p,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=_,e.FirebaseError=y,e.patchCapture=function(t){var e=d;return d=t,e},e.jsonEval=v,e.stringify=function(t){return JSON.stringify(t)},e.decode=C,e.isAdmin=function(t){var e=C(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=C(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=C(t),n=e.claims;return!!e.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=C(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.clone=function(t){return m({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=m,e.findKey=b,e.findValue=function(t,e,n){var r=b(t,e,n);return r&&t[r]},e.forEach=g,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return g(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=E,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.errorPrefix=T,e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(T(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(T(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(T(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();function u(t,e){throw c.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var c=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),l=function t(){var e={},n={},a={},c={__esModule:!0,initializeApp:function(t,n){if(void 0===n&&(n={}),"object"!=typeof n||null===n){var r=n;n={name:r}}var a=n;void 0===a.name&&(a.name=o);var l=a.name;"string"==typeof l&&l||u("bad-app-name",{name:l+""}),i(e,l)&&u("duplicate-app",{name:l});var h=new s(t,a,c);return e[l]=h,p(h,"create"),h},app:l,apps:null,Promise:Promise,SDK_VERSION:"5.0.4",INTERNAL:{registerService:function(t,e,i,o,p){n[t]&&u("duplicate-service",{name:t}),n[t]=e,o&&(a[t]=o,h().forEach(function(t){o("create",t)}));var f=function(e){return void 0===e&&(e=l()),"function"!=typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()};return void 0!==i&&r.deepExtend(f,i),c[t]=f,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,p?e:[])},f},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(c,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){p(e[t],"delete"),delete e[t]},factories:n,useAsService:f,Promise:Promise,deepExtend:r.deepExtend}};function l(t){return i(e,t=t||o)||u("no-app",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function p(t,e){Object.keys(n).forEach(function(n){var r=f(t,n);null!==r&&a[r]&&a[r](e,t)})}function f(t,e){if("serverAuth"===e)return null;var n=e;return t.options,n}return r.patchProperty(c,"default",c),Object.defineProperty(c,"apps",{get:h}),r.patchProperty(l,"App",s),c}();e.firebase=l,e.default=l},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!l){var t=s(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,,function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return u}),n.d(e,"Logger",function(){return s}),n.d(e,"LogLevel",function(){return r});var r,i=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var o=r.INFO,a=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();function u(t){i.forEach(function(e){e.logLevel=t})}},function(t,e,n){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0});var i,o,a=n(5),s=n(10),u=n(4),c=(i=n(6))&&"object"==typeof i&&"default"in i?i.default:i,l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),a.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:a.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return a.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),p=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(t){}return new h},f=p("localStorage"),d=p("sessionStorage"),y=new s.Logger("@firebase/database"),_=(o=1,function(){return o++}),v=function(t){var e=a.stringToByteArray(t),n=new a.Sha1;n.update(e);var r=n.digest();return a.base64.encodeByteArray(r)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=C.apply(null,t[r]):"object"==typeof t[r]?n+=a.stringify(t[r]):n+=t[r],n+=" ";return n},g=null,m=!0,b=function(t,e){a.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(y.logLevel=s.LogLevel.VERBOSE,g=y.log.bind(y),e&&d.set("logging_enabled",!0)):"function"==typeof t?g=t:(g=null,d.remove("logging_enabled"))},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===m&&(m=!1,null===g&&!0===d.get("logging_enabled")&&b(!0)),g){var n=C.apply(null,t);g(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];E.apply(void 0,[t].concat(e))}},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+C.apply(void 0,t);y.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+C.apply(void 0,t);throw y.error(n),new Error(n)},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+C.apply(void 0,t);y.warn(n)},O=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},N="[MIN_NAME]",I="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===N||e===I)return-1;if(e===N||t===I)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},R=function(t,e){return t===e?0:t<e?-1:1},D=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+a.stringify(e))},L=function(t){if("object"!=typeof t||null===t)return a.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=a.stringify(e[i]),r+=":",r+=L(t[e[i]]);return r+="}"},x=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r},k=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else a.forEach(t,function(t,n){return e(n,t)})},M=function(t){a.assert(!O(t),"Invalid JSON number");var e,n,r,i,o,s,u;for(0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),s=[],o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse(),u=s.join("");var c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},V=new RegExp("^-?\\d{1,10}$"),F=function(t){if(V.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},H=function(t){try{t()}catch(t){setTimeout(function(){var e=t.stack||"";throw P("Exception was thrown by user callback.",e),t},Math.floor(0))}},j=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},W=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},q=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),U=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=a.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=a.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),Q="long_polling",B=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(a.assert("string"==typeof t,"typeof type must == string"),a.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==Q)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return a.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var Z,K,z,Y,G,$=function(t){var e=X(t),n=e.subdomain;"firebase"===e.domain&&T(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&P("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new B(e.host,e.secure,n,r),path:new q(e.pathString)}},X=function(t){var e="",n="",r="",i="",o=!0,a="https",s=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));var c=t.indexOf("/");-1===c&&(c=t.length);var l=t.indexOf("?");-1===l&&(l=t.length),e=t.substring(0,Math.min(c,l)),c<l&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(c,l)));var h=function(t){var e={};t.startsWith("?")&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var o=i.split("=");2===o.length?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):P("Invalid query segment '"+i+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,l)));(u=e.indexOf(":"))>=0?(o="https"===a||"wss"===a,s=parseInt(e.substring(u+1),10)):u=t.length;var p=e.split(".");3===p.length?(n=p[1],r=p[0].toLowerCase()):2===p.length?n=p[0]:"localhost"===p[0].slice(0,u).toLowerCase()&&(n="localhost"),""===r&&"ns"in h&&(r=h.ns)}return{host:e,port:s,domain:n,subdomain:r,secure:o,scheme:a,pathString:i}},J=/[\[\].#$\/\u0000-\u001F\u007F]/,tt=/[\[\].#$\u0000-\u001F\u007F]/,et=function(t){return"string"==typeof t&&0!==t.length&&!J.test(t)},nt=function(t){return"string"==typeof t&&0!==t.length&&!tt.test(t)},rt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!O(t)||t&&"object"==typeof t&&a.contains(t,".sv")},it=function(t,e,n,r,i){i&&void 0===n||ot(a.errorPrefix(t,e,i),n,r)},ot=function(t,e,n){var r=n instanceof q?new U(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(O(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&a.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(a.forEach(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!et(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),ot(t,n,r),r.pop()}),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},at=function(t,e,n,r,i){if(!i||void 0!==n){var o=a.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];a.forEach(n,function(t,e){var n=new q(t);if(ot(o,e,r.child(n)),".priority"===n.getBack()&&!rt(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!et(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(q.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,s)}},st=function(t,e,n,r){if(!r||void 0!==n){if(O(n))throw new Error(a.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!rt(n))throw new Error(a.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ut=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ct=function(t,e,n,r){if(!(r&&void 0===n||et(n)))throw new Error(a.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},lt=function(t,e,n,r){if(!(r&&void 0===n||nt(n)))throw new Error(a.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ht=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},pt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!et(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),nt(t)}(r))throw new Error(a.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ft=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),ht("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),ht("OnDisconnect.set",this.path_),it("OnDisconnect.set",1,t,this.path_,!1),a.validateCallback("OnDisconnect.set",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),ht("OnDisconnect.setWithPriority",this.path_),it("OnDisconnect.setWithPriority",1,t,this.path_,!1),st("OnDisconnect.setWithPriority",2,e,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),ht("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,P("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}at("OnDisconnect.update",1,t,this.path_,!1),a.validateCallback("OnDisconnect.update",2,e,!0);var i=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),dt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),yt=(Z="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",K=0,z=[],function(t){var e,n=t===K;K=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=Z.charAt(t%64),t=Math.floor(t/64);a.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===z[e];e--)z[e]=0;z[e]++}else for(e=0;e<12;e++)z[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=Z.charAt(z[e]);return a.assert(20===i.length,"nextPushId: Length should be 20."),i}),_t=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),vt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new _t(N,t),r=new _t(N,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return _t.MIN},t}(),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Y},set:function(t){Y=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return new _t(I,Y)},e.prototype.makePost=function(t,e){return a.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new _t(t,Y)},e.prototype.toString=function(){return".key"},e}(vt),gt=new Ct;var mt,bt,Et,wt=function(t){return"number"==typeof t?"number:"+M(t):"string:"+t},St=function(t){if(t.isLeafNode()){var e=t.val();a.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&a.contains(e,".sv"),"Priority must be a string or number.")}else a.assert(t===G||t.isEmpty(),"priority of unexpected type.");a.assert(t===G||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Tt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,a.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),St(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return mt},set:function(t){mt=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(a.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+wt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?M(this.value_):this.value_,this.lazyHash_=v(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(a.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return a.assert(i>=0,"Unknown leaf type: "+n),a.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Pt,Ot,Nt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return new _t(I,new Tt("[PRIORITY-POST]",Et))},e.prototype.makePost=function(t,e){var n=bt(t);return new _t(e,new Tt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(vt)),It=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),At=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Dt.EMPTY_NODE,this.right=null!=o?o:Dt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return(i=(r=n(t,(i=this).key))<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Dt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Dt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Rt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new At(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Dt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,At.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,At.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new It(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new It(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new It(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new It(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Rt,t}(),Lt=Math.log(2),xt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Lt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),kt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0==s)return null;if(1==s)return o=t[e],a=n?n(o):o,new At(a,o.node,At.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],a=n?n(o):o,new At(a,o.node,At.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new At(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,At.BLACK):(s(h,At.BLACK),s(h,At.RED))}return o}(new xt(t.length));return new Dt(r||e,o)},Mt={},Vt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return a.assert(Mt&&Nt,"ChildrenNode.ts has not been loaded"),Pt=Pt||new t({".priority":Mt},{".priority":Nt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=a.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===Mt?null:e},t.prototype.hasIndex=function(t){return a.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){a.assert(e!==gt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,s=n.getIterator(_t.Wrap),u=s.getNext();u;)o=o||e.isDefinedOn(u.node),i.push(u),u=s.getNext();r=o?kt(i,e.getCompare()):Mt;var c=e.toString(),l=a.clone(this.indexSet_);l[c]=e;var h=a.clone(this.indexes_);return h[c]=r,new t(h,l)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(a.map(this.indexes_,function(t,i){var o=a.safeGet(r.indexSet_,i);if(a.assert(o,"Missing index implementation for "+i),t===Mt){if(o.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(_t.Wrap),c=u.getNext();c;)c.name!=e.name&&s.push(c),c=u.getNext();return s.push(e),kt(s,o.getCompare())}return Mt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new _t(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(a.map(this.indexes_,function(t){if(t===Mt)return t;var r=n.get(e.name);return r?t.remove(new _t(e.name,r)):t}),this.indexSet_)},t}();function Ft(t,e){return A(t.name,e.name)}function Ht(t,e){return A(t,e)}var jt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&St(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Ot||(Ot=new t(new Dt(Ht),null,Vt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Ot},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Ot:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new _t(e,n),i=void 0,o=void 0;return n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_)),new t(i,i.isEmpty()?Ot:this.priorityNode_,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;a.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Nt,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+wt(this.getPriority().val())+":"),this.forEachChild(Nt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":v(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new _t(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new _t(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new _t(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,_t.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,_t.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Wt?-1:0},t.prototype.withIndex=function(e){if(e===gt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===gt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Nt),r=e.getIterator(Nt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===gt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Wt=new(function(t){function e(){return t.call(this,new Dt(Ht),jt.EMPTY_NODE,Vt.Default)||this}return u.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return jt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(jt));Object.defineProperties(_t,{MIN:{value:new _t(N,jt.EMPTY_NODE)},MAX:{value:new _t(I,Wt)}}),Ct.__EMPTY_NODE=jt.EMPTY_NODE,Tt.__childrenNodeConstructor=jt,G=Wt,function(t){Et=t}(Wt);var qt=!0;function Ut(t,e){if(void 0===e&&(e=null),null===t)return jt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),a.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Tt(t,Ut(e));if(t instanceof Array||!qt){var n=jt.EMPTY_NODE,r=t;return a.forEach(r,function(t,e){if(a.contains(r,t)&&"."!==t.substring(0,1)){var i=Ut(e);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(Ut(e))}var i=[],o=!1,s=t;if(a.forEach(s,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=Ut(s[t]);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new _t(t,n)))}}),0==i.length)return jt.EMPTY_NODE;var u=kt(i,Ft,function(t){return t.name},Ht);if(o){var c=kt(i,Nt.getCompare());return new jt(u,Ut(e),new Vt({".priority":c},{".priority":Nt}))}return new jt(u,Ut(e),Vt.Default)}!function(t){bt=t}(Ut);var Qt,Bt,Zt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return _t.MAX},e.prototype.makePost=function(t,e){var n=Ut(t);return new _t(e,n)},e.prototype.toString=function(){return".value"},e}(vt)),Kt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,a.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return u.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Ut(t),r=jt.EMPTY_NODE.updateChild(this.indexPath_,n);return new _t(e,r)},e.prototype.maxPost=function(){var t=jt.EMPTY_NODE.updateChild(this.indexPath_,Wt);return new _t(I,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(vt),zt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),lt("DataSnapshot.child",1,e,!1);var n=new q(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Nt)},t.prototype.hasChild=function(t){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),lt("DataSnapshot.hasChild",1,t,!1);var e=new q(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),Nt))})},t.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Yt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},t}(),Gt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),$t=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Yt("value",this,new zt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Gt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Xt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,a.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Gt(this,t,e):null},t.prototype.createEvent=function(t,e){a.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Yt(t.type,this,new zt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=a.getCount(e.callbacks_);if(n===a.getCount(this.callbacks_)){if(1===n){var r=a.getAnyKey(e.callbacks_),i=a.getAnyKey(this.callbacks_);return!(i!==r||e.callbacks_[r]&&this.callbacks_[i]&&e.callbacks_[r]!==this.callbacks_[i])}return a.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Jt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(Qt,"Reference.ts has not been loaded"),Qt},set:function(t){Qt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===gt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=N)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!=I)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Nt){if(null!=e&&!rt(e)||null!=n&&!rt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(t.getIndex()instanceof Kt||t.getIndex()===Zt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){a.validateArgCount("Query.on",2,4,arguments.length),ut("Query.on",1,e,!1),a.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new $t(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Xt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){a.validateArgCount("Query.off",0,3,arguments.length),ut("Query.off",1,t,!0),a.validateCallback("Query.off",2,e,!0),a.validateContextObject("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new $t(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new Xt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;a.validateArgCount("Query.once",1,4,arguments.length),ut("Query.once",1,e,!1),a.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new a.Deferred;c.promise.catch(function(){});var l=function(t){u&&(u=!1,o.off(e,l),n&&n.bind(s.context)(t),c.resolve(t))};return this.on(e,l,function(t){o.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),c.reject(t)}),c.promise},t.prototype.limitToFirst=function(e){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');lt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new q(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Kt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(gt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Nt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Zt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.startAt",0,2,arguments.length),it("Query.startAt",1,e,this.path,!0),ct("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.endAt",0,2,arguments.length),it("Query.endAt",1,e,this.path,!0),ct("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),it("Query.equalTo",1,t,this.path,!1),ct("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=L(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===e.repo,r=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,a.validateCallback(t,3,r.cancel,!0),r.context=n,a.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(a.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),te=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return a.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return a.isEmpty(this.set)},t.prototype.count=function(){return a.getCount(this.set)},t.prototype.each=function(t){a.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return a.forEach(this.set,function(e){t.push(e)}),t},t}(),ee=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new te);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var i=this.children_.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(Nt,function(t,e){n.remember(new q(t),e)}),this.forget(t)}if(null!==this.children_){var r=t.getFront();if(t=t.popFront(),this.children_.contains(r))this.children_.get(r).forget(t)&&this.children_.remove(r);return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,r){var i=new q(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),ne=function(t,e){return t&&"object"==typeof t?(a.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},re=function(t,e){var n,r=t.getPriority().val(),i=ne(r,e);if(t.isLeafNode()){var o=t,a=ne(o.getValue(),e);return a!==o.getValue()||i!==o.getPriority().val()?new Tt(a,Ut(i)):t}var s=t;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new Tt(i))),s.forEachChild(Nt,function(t,r){var i=re(r,e);i!==r&&(n=n.updateImmediateChild(t,i))}),n};!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Bt||(Bt={}));var ie,oe,ae=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,a.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),se=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Bt.ACK_USER_WRITE,this.source=ae.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new q(e));return new t(q.Empty,n,this.revert)}return a.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ue=function(){return ie||(ie=new Dt(R)),ie},ce=function(){function t(t,e){void 0===e&&(e=ue()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return a.forEach(e,function(t,e){n=n.set(new q(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:q.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new q(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(q.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,q.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,q.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(q.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),le=function(){function t(t,e){this.source=t,this.path=e,this.type=Bt.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,q.Empty):new t(this.source,this.path.popFront())},t}(),he=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Bt.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,q.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),pe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Bt.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new q(e));return n.isEmpty()?null:n.value?new he(this.source,q.Empty,n.value):new t(this.source,q.Empty,n)}return a.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),fe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),de=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new fe(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new fe(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new fe(jt.EMPTY_NODE,!1,!1),new fe(jt.EMPTY_NODE,!1,!1)),t}(),ye=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),_e=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){a.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ye.childRemovedChange(e,s)):a.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(ye.childAddedChange(e,n)):o.trackChildChange(ye.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Nt,function(t,r){e.hasChild(t)||n.trackChildChange(ye.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Nt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ye.childChangedChange(e,r,i))}else n.trackChildChange(ye.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?jt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ve=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;a.assert(e==ye.CHILD_ADDED||e==ye.CHILD_CHANGED||e==ye.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=a.safeGet(this.changeMap_,n);if(r){var i=r.type;if(e==ye.CHILD_ADDED&&i==ye.CHILD_REMOVED)this.changeMap_[n]=ye.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==ye.CHILD_REMOVED&&i==ye.CHILD_ADDED)delete this.changeMap_[n];else if(e==ye.CHILD_REMOVED&&i==ye.CHILD_CHANGED)this.changeMap_[n]=ye.childRemovedChange(n,r.oldSnap);else if(e==ye.CHILD_CHANGED&&i==ye.CHILD_ADDED)this.changeMap_[n]=ye.childAddedChange(n,t.snapshotNode);else{if(e!=ye.CHILD_CHANGED||i!=ye.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=ye.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return a.getValues(this.changeMap_)},t}(),Ce=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),ge=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new fe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),me=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),be=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){a.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,s,u=new ve;if(n.type===Bt.OVERWRITE){var c=n;c.source.fromUser?o=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(a.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),o=this.applyServerOverwrite_(e,c.path,c.snap,r,i,s,u))}else if(n.type===Bt.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(e,l.path,l.children,r,i,u):(a.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,l.path,l.children,r,i,s,u))}else if(n.type===Bt.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Bt.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,u)}var p=u.getChanges();return t.maybeAddValueEvent_(e,o,p),new me(o,p)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ye.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(e.isEmpty())if(a.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=c instanceof jt?c:jt.EMPTY_NODE,h=n.calcCompleteEventChildren(l);s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var p=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),p,i)}else{var f=e.getFront();if(".priority"==f){a.assert(1==e.getLength(),"Can't have a priority with additional path components");var d=o.getNode();u=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,d,u);s=null!=y?this.filter_.updatePriority(d,y):o.getNode()}else{var _=e.popFront(),v=void 0;if(o.isCompleteForChild(f)){u=t.getServerCache().getNode();var C=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),u);v=null!=C?o.getNode().getImmediateChild(f).updateChild(_,C):o.getNode().getImmediateChild(f)}else v=n.calcCompleteChild(f,t.getServerCache());s=null!=v?this.filter_.updateChild(o.getNode(),f,v,_,r,i):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var p=e.popFront(),f=u.getNode().getImmediateChild(h).updateChild(p,n);s=".priority"==h?c.updatePriority(u.getNode(),f):c.updateChild(u.getNode(),h,f,p,Ce,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),y=new ge(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,y,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new ge(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),p=u.getNode().getImmediateChild(l),f=void 0;if(h.isEmpty())f=n;else{var d=c.getCompleteChild(l);f=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):jt.EMPTY_NODE}if(p.equals(f))a=t;else{var y=this.filter_.updateChild(u.getNode(),l,f,h,c,o);a=t.updateEventSnap(y,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:ce.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new q(e),h,r,i,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),p=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new q(e),p,r,i,o,a)}}),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=ce.Empty;return s.getNode().forEachChild(gt,function(t,e){u=u.set(new q(t),e)}),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=ce.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Ce,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s=new ge(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();a.assert(h instanceof jt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}l=l,c=this.filter_.updateFullNode(u,l,i)}else{var p=e.getFront(),f=n.calcCompleteChild(p,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(p)&&(f=u.getImmediateChild(p)),(c=null!=f?this.filter_.updateChild(u,p,f,e.popFront(),s,i):t.getEventCache().getNode().hasChild(p)?this.filter_.updateChild(u,p,jt.EMPTY_NODE,e.popFront(),s,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(q.Empty),t.updateEventSnap(c,o,this.filter_.filtersNodes())},t}(),Ee=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===ye.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ye.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,ye.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,ye.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,ye.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,ye.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,ye.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw a.assertionError("Should only compare child_ events.");var n=new _t(t.childName,t.snapshotNode),r=new _t(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),we=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new _e(n.getIndex()),i=n.getNodeFilter();this.processor_=new be(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(jt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(jt.EMPTY_NODE,a.getNode(),null),c=new fe(s,o.isFullyInitialized(),r.filtersNodes()),l=new fe(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new de(l,c),this.eventGenerator_=new Ee(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){a.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===Bt.MERGE&&null!==t.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),a.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Nt,function(t,e){n.push(ye.childAddedChange(t,e))});return e.isFullyInitialized()&&n.push(ye.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Se=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(oe,"Reference.ts has not been loaded"),oe},set:function(t){a.assert(!oe,"__referenceConstructor has already been defined"),oe=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return a.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var i=a.safeGet(this.views_,r);return a.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(t,e,n)}var o=[];return a.forEach(this.views_,function(r,i){o=o.concat(i.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=a.safeGet(this.views_,o);if(!s){var u=n.calcCompleteEventCache(i?r:null),c=!1;u?c=!0:r instanceof jt?(u=n.calcCompleteEventChildren(r),c=!1):(u=jt.EMPTY_NODE,c=!1);var l=new de(new fe(u,c,!1),new fe(r,i,!1));s=new we(t,l),this.views_[o]=s}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i=e.queryIdentifier(),o=[],s=[],u=this.hasCompleteView();if("default"===i){var c=this;a.forEach(this.views_,function(t,e){s=s.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete c.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var l=a.safeGet(this.views_,i);l&&(s=s.concat(l.removeEventRegistration(n,r)),l.isEmpty()&&(delete this.views_[i],l.getQuery().getQueryParams().loadsAllData()||o.push(l.getQuery())))}return u&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:s}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return a.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return a.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return a.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}(),Te=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ce(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=q.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new ce(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return a.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ce.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(q.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Nt,function(e,n){t.push(new _t(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new _t(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ce(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(q.Empty,this.writeTree_,e)},t.Empty=new t(new ce(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(a.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t.applySubtreeWrite_(e.child(n),o,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r},t}(),Pe=function(){function t(){this.visibleWrites_=Te.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Oe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});a.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),s--}if(i){if(o)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var c=r.children;a.forEach(c,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(q.Empty)){var a=t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e);c=n||jt.EMPTY_NODE;return a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(q.Empty)){var c=n||jt.EMPTY_NODE;return u.apply(c)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=jt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Nt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Nt,function(t,e){var r=i.childCompoundWrite(new q(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){a.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(q.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),p=h.getNext();p&&c.length<r;)0!==l(p,n)&&c.push(p),p=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!a.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,q.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Te.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,u=void 0;if(o.snap)n.contains(s)?(u=q.relativePath(n,s),r=r.addWrite(u,o.snap)):s.contains(n)&&(u=q.relativePath(s,n),r=r.addWrite(q.Empty,o.snap.getChild(u)));else{if(!o.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))u=q.relativePath(n,s),r=r.addWrites(u,o.children);else if(s.contains(n))if((u=q.relativePath(s,n)).isEmpty())r=r.addWrites(q.Empty,o.children);else{var c=a.safeGet(o.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(q.Empty,l)}}}}}return r},t}(),Oe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ne=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ce.Empty,this.pendingWriteTree_=new Pe,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new he(ae.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ce.fromObject(e);return this.applyOperationToSyncPoints_(new pe(ae.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ce.Empty;return null!=n.snap?r=r.set(q.Empty,!0):a.forEach(n.children,function(t,e){r=r.set(new q(t),e)}),this.applyOperationToSyncPoints_(new se(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new he(ae.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ce.fromObject(e);return this.applyOperationToSyncPoints_(new pe(ae.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new le(ae.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=q.relativePath(a,e),c=new he(ae.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=q.relativePath(a,e),c=ce.fromObject(n),l=new pe(ae.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=q.relativePath(o,e),u=new le(ae.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=q.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var s,u=this.syncPointTree_.get(r);(u?(o=o||u.hasCompleteView(),i=i||u.getCompleteServerCache(q.Empty)):(u=new Se,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=jt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(q.Empty);n&&(i=i.updateImmediateChild(t,n))}));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);a.assert(!(l in this.queryToTagMap_),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap_[l]=h,this.tagToQueryMap_["_"+h]=l}var p=this.pendingWriteTree_.childWrites(r),f=u.addEventRegistration(e,n,p,i,s);if(!c&&!o){var d=u.viewForQuery(e);f=f.concat(this.setupListener_(e,d))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(l&&!h){var p=this.syncPointTree_.subtree(o);if(!p.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(p),d=0;d<f.length;++d){var y=f[d],_=y.getQuery(),v=this.createListenerForView_(y);this.listenProvider_.startListening(t.queryForListening_(_),this.tagForQuery_(_),v.hashFn,v.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach(function(e){var n=i.queryToTagMap_[t.makeQueryKey_(e)];i.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=q.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),a.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)a.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),a.forEach(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||jt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return a.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return a.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);a.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(q.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(q.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(q.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(q.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(q.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Ie=function(){function t(){this.rootNode_=jt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ae=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',P(t)},t}(),Re=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),a.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return a.deepCopy(this.counters_)},t}(),De=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Re),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Le=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=a.clone(t);return this.last_&&a.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),xe=1e4,ke=3e4,Me=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Le(t);var n=xe+(ke-xe)*Math.random();W(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;a.forEach(e,function(e,i){i>0&&a.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),W(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ve=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Fe(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Fe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();g&&E("event: "+e.toString()),H(n)}}},t.prototype.getPath=function(){return this.path_},t}(),He=function(){function t(t){this.allowedEvents_=t,this.listeners_={},a.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){a.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),je=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return u.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(He),We=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return u.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(He),qe=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&H(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),Ue="pLPCommand",Qe="pRTLPCB",Be=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=De.getCollection(e),this.urlFn=function(t){return e.connectionURL(Q,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new qe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(a.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Ze(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1],o=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=i,n.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,i)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!a.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=a.base64Encode(e),r=x(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=a.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ze=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new te,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=_(),window[Ue+this.uniqueCallbackIdentifier]=e,window[Qe+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(t){E("frame writing exception"),t.stack&&E(t.stack),E(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||E("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),a.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;a.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){E("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),Ke=null;"undefined"!=typeof MozWebSocket?Ke=MozWebSocket:"undefined"!=typeof WebSocket&&(Ke=WebSocket);var ze=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=De.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var i=a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+c.SDK_VERSION+"/"+r.platform+"/"+i}},s=r.env,u=0==this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(o.proxy={origin:u}),this.mySock=new Ke(this.connURL,[],o)}else this.mySock=new Ke(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var l=t.message||t.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ke&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=a.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(a.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=x(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ye=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Be,ze]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=ze&&ze.isAvailable(),r=n&&!ze.previouslyFailed();if(e.webSocketOnly&&(n||P("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ze];else{var i=this.transports_=[];k(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&i.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ge=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new Ye(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=W(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=D("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?S("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&P("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),W(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):W(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),$e=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Xe=1e3,Je=3e5,tn=function(t){function e(n,r,i,o,s,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=r,c.onConnectStatus_=i,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=w("p:"+c.id+":"),c.interruptReasons_={},c.listens_={},c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Xe,c.maxReconnectDelay_=Je,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),je.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&We.getInstance().on("online",c.onOnline_,c),c}return u.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(a.stringify(i)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[o][i]=s,this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&a.contains(t,"w")){var n=a.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();P("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||a.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=a.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+a.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):S("Unrecognized action received from server: "+a.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xe,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Xe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xe),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())};this.realtime_={close:l,sendRequest:function(t){a.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then(function(e){u?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,c=new Ge(i,o.repoInfo_,t,n,r,function(t){P(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},s))}).then(null,function(t){o.log_("Failed to get token: "+t),u||(a.CONSTANTS.NODE_ADMIN&&P(t),l())})}},e.prototype.interrupt=function(t){E("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){E("Resuming connection for reason: "+t),delete this.interruptReasons_[t],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Xe,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return L(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new q(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===a.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){E("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),a.forEach(this.listens_,function(e,n){a.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";a.CONSTANTS.NODE_ADMIN?e="admin_node":a.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+c.SDK_VERSION.replace(/\./g,"-")]=1,a.isMobileCordova()?t["framework.cordova"]=1:a.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=We.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}($e),en=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return u.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(a.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),a.safeGet(o.listens_,u)===c)&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+a.querystring(e);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=a.jsonEval(u.responseText)}catch(t){P("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&P("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()})},e}($e),nn=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ve,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ee,this.persistentConnection_=null;var i=new Ae(n);if(this.stats_=De.getCollection(t),e||j())this.server_=new en(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(void 0!==o&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new tn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=De.getOrCreateReporter(t,function(){return new Me(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new Ie,this.infoSyncTree_=new Ne({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ne({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new q(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var s=a.map(e,function(t){return Ut(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=Ut(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=a.map(e,function(t){return Ut(t)});o=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=Ut(e);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;k(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new q("/.info/"+t),r=Ut(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Ut(e,n),s=re(a,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||P("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)});var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(a.forEach(e,function(t,e){i=!1;var n=Ut(e);s[t]=re(n,o)}),i)E("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(t,s,u);this.eventQueue_.queueEvents(c),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||P("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(u,!o),s=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(s,a),r.callOnCompleteCallback(n,e,i)}),a.forEach(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=[];(function(t,e){var n=new ee;return t.forEachTree(new q(""),function(t,r){n.remember(t,re(r,e))}),n})(this.onDisconnect_,e).forEachTree(q.Empty,function(e,r){n=n.concat(t.serverSyncTree_.applyServerOverwrite(e,r));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new ee,this.eventQueue_.raiseEventsForChangedPath(q.Empty,n)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Ut(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Ut(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(a.isEmpty(e))return E("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(i,o){"ok"===i&&a.forEach(e,function(e,n){var i=Ut(n);r.onDisconnect_.remember(t.child(e),i)}),r.callOnCompleteCallback(n,i,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Le(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);a.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),E.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&H(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new fn(this))},enumerable:!0,configurable:!0}),t}(),rn=function(){function t(e){this.indexedFilter_=new _e(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new _t(e,n))||(n=jt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=jt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(jt.EMPTY_NODE);var i=this;return e.forEachChild(Nt,function(t,e){i.matches(new _t(t,e))||(r=r.updateImmediateChild(t,jt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),on=function(){function t(t){this.rangedFilter_=new rn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new _t(e,n))||(n=jt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=jt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(jt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,jt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var u=t;a.assert(u.numChildren()==this.limit_,"");var c=new _t(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var p=u.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name==e||u.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:o(f,c);if(h&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(ye.childChangedChange(e,n,p)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ye.childRemovedChange(e,p));var y=u.updateImmediateChild(e,jt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(ye.childAddedChange(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}return n.isEmpty()?t:h&&o(l,c)>=0?(null!=i&&(i.trackChildChange(ye.childRemovedChange(l.name,l.node)),i.trackChildChange(ye.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,jt.EMPTY_NODE)):t},t}(),an=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Nt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Nt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new _e(this.getIndex()):this.hasLimit()?new on(this):new rn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Nt?e=n.PRIORITY_INDEX:this.index_===Zt?e=n.VALUE_INDEX:this.index_===gt?e=n.KEY_INDEX:(a.assert(this.index_ instanceof Kt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=a.stringify(e),this.startSet_&&(r[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),sn=function(t){function e(e,n){if(!(e instanceof nn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,an.DEFAULT,!1)||this}return u.__extends(e,t),e.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof q||(null===this.path.getFront()?function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),lt(t,e,n,r)}("Reference.child",1,t,!1):lt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){a.validateArgCount("Reference.set",1,2,arguments.length),ht("Reference.set",this.path),it("Reference.set",1,t,this.path,!1),a.validateCallback("Reference.set",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(a.validateArgCount("Reference.update",1,2,arguments.length),ht("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,P("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}at("Reference.update",1,t,this.path,!1),a.validateCallback("Reference.update",2,e,!0);var i=new a.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),ht("Reference.setWithPriority",this.path),it("Reference.setWithPriority",1,t,this.path,!1),st("Reference.setWithPriority",2,e,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new a.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return a.validateArgCount("Reference.remove",0,1,arguments.length),ht("Reference.remove",this.path),a.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),ht("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,t,!1),a.validateCallback("Reference.transaction",2,e,!0),function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(t,e,r)+"must be a boolean.")}("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new a.Deferred;"function"==typeof e&&r.promise.catch(function(){});return this.repo.startTransaction(this.path,t,function(t,n,i){t?r.reject(t):r.resolve(new dt(n,i)),"function"==typeof e&&e(t,n,i)},n),r.promise},e.prototype.setPriority=function(t,e){a.validateArgCount("Reference.setPriority",1,2,arguments.length),ht("Reference.setPriority",this.path),st("Reference.setPriority",1,t,!1),a.validateCallback("Reference.setPriority",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){a.validateArgCount("Reference.push",0,2,arguments.length),ht("Reference.push",this.path),it("Reference.push",1,t,this.path,!0),a.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=yt(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then(function(){return s}):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return ht("Reference.onDisconnect",this.path),new ft(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Jt);Jt.__referenceConstructor=sn,Se.__referenceConstructor=sn;var un,cn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),ln=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new cn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof q?e:new q(e),i=this;null!==(n=r.getFront());){i=new t(n,i,a.safeGet(i.node_.children,n)||new cn),r=r.popFront()}return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){a.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;a.forEach(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new q(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=a.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(un||(un={})),nn.MAX_TRANSACTION_RETRIES_=25,nn.prototype.transactions_init_=function(){this.transactionQueueTree_=new ln},nn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new sn(this,t);o.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:_(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new zt(s.currentInputSnapshot,new sn(this,s.path),Nt);s.onComplete(null,!1,l)}}else{ot("transaction failed: Data returned ",c,s.path),s.status=un.RUN;var h=this.transactionQueueTree_.subTree(t),p=h.getValue()||[];p.push(s),h.setValue(p);var f=void 0;if("object"==typeof c&&null!==c&&a.contains(c,".priority"))f=a.safeGet(c,".priority"),a.assert(rt(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else f=(this.serverSyncTree_.calcCompleteEventCache(t)||jt.EMPTY_NODE).getPriority().val();f=f;var d=this.generateServerValues(),y=Ut(c,f),v=re(y,d);s.currentOutputSnapshotRaw=y,s.currentOutputSnapshotResolved=v,s.currentWriteId=this.getNextWriteId_();var C=this.serverSyncTree_.applyUserOverwrite(t,v,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,C),this.sendReadyTransactions_()}},nn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||jt.EMPTY_NODE},nn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);a.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===un.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},nn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),o=i,s=i.hash(),u=0;u<e.length;u++){var c=e[u];a.assert(c.status===un.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=un.SENT,c.retryCount++;var l=q.relativePath(t,c.path);o=o.updateChild(l,c.currentOutputSnapshotRaw)}var h=o.val(!0),p=t;this.server_.put(p.toString(),h,function(r){n.log_("transaction put response",{path:p.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=un.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new sn(n,e[a].path),c=new zt(s,u,Nt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(a=0;a<o.length;a++)H(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status===un.SENT_NEEDS_ABORT?e[a].status=un.NEEDS_ABORT:e[a].status=un.RUN;else{P("transaction at "+p.toString()+" failed: "+r);for(a=0;a<e.length;a++)e[a].status=un.NEEDS_ABORT,e[a].abortReason=r}n.rerunTransactions_(t)}},s)},nn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},nn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter(function(t){return t.status===un.RUN}).map(function(t){return t.currentWriteId}),s=0;s<t.length;s++){var u=t[s],c=q.relativePath(e,u.path),l=!1,h=void 0;if(a.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===un.NEEDS_ABORT)l=!0,h=u.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===un.RUN)if(u.retryCount>=nn.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var p=this.getLatestState_(u.path,o);u.currentInputSnapshot=p;var f=t[s].update(p.val());if(void 0!==f){ot("transaction failed: Data returned ",f,u.path);var d=Ut(f);"object"==typeof f&&null!=f&&a.contains(f,".priority")||(d=d.updatePriority(p.getPriority()));var y=u.currentWriteId,_=this.generateServerValues(),v=re(d,_);u.currentOutputSnapshotRaw=d,u.currentOutputSnapshotResolved=v,u.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(y),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(u.path,v,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(y,!0))}else l=!0,h="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],l&&(t[s].status=un.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if("nodata"===h){var C=new sn(this,t[s].path),g=t[s].currentInputSnapshot,m=new zt(g,C,Nt);r.push(t[s].onComplete.bind(null,null,!1,m))}else r.push(t[s].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)H(r[s]);this.sendReadyTransactions_()}},nn.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},nn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},nn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},nn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==un.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},nn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},nn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===un.SENT_NEEDS_ABORT);else if(e[o].status===un.SENT)a.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=un.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(a.assert(e[o].status===un.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)H(n[o])}};var hn,pn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return hn||(hn=new t),hn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&T("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=$(n),i=r.repoInfo;return pt("Invalid Firebase Database URL",1,r),r.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=a.safeGet(this.repos_,t.app.name);e&&a.safeGet(e,t.repoInfo_.toURLString())===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=a.safeGet(this.repos_,e.name);n||(n={},this.repos_[e.name]=n);var r=a.safeGet(n,t.toURLString());return r&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new nn(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),fn=function(){function t(t){this.repo_=t,t instanceof nn||T("Don't call new Database() directly - please use firebase.database()."),this.root_=new sn(t,q.Empty),this.INTERNAL=new dn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),t instanceof sn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),a.validateArgCount(e,1,1,arguments.length);var n=$(t);pt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&T(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&T("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),dn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(t){return this.database.checkDeleted_("delete"),pn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),yn=Object.freeze({forceLongPolling:function(){ze.forceDisallow(),Be.forceAllow()},forceWebSockets:function(){Be.forceDisallow()},isWebSocketsAvailable:function(){return ze.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),_n=tn;tn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},tn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var vn=Ge,Cn=B,gn=Object.freeze({DataConnection:_n,RealTimeConnection:vn,hijackHash:function(t){var e=tn.prototype.put;return tn.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){tn.prototype.put=e}},ConnectionTarget:Cn,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){pn.getInstance().forceRestClient(t)}}),mn=fn.ServerValue;function bn(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return pn.getInstance().databaseFromApp(t,n)},{Reference:sn,Query:Jt,Database:fn,enableLogging:b,INTERNAL:yn,ServerValue:mn,TEST_ACCESS:gn},null,!0);a.isNodeSdk()&&(t.exports=n)}bn(c),e.registerDatabase=bn,e.Database=fn,e.Query=Jt,e.Reference=sn,e.enableLogging=b,e.ServerValue=mn,e.DataSnapshot=zt,e.OnDisconnect=ft}).call(this,n(7))},function(t,e,n){"use strict";n.r(e);n(11)},function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=u(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c(t)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},l.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},y.call(_.prototype),y.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},C.error=function(){var t=new C(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];C.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new C(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=_,t.Response=C,t.fetch=function(t,n){return new Promise(function(r,i){var o=new _(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new C(i,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function f(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var t,e,n,r=h(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=p(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(t,e){var n,r,i=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function C(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,u=1,c={},l=!1,h=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){d(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(t){var e=h.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[u]=i,r(u),u++},p.clearImmediate=f}function f(t){delete c[t]}function d(t){if(l)setTimeout(d,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{f(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(0),n(7))},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(14),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(t,e,n){"use strict";n.r(e),function(t,e){n(13);var r=setTimeout;function i(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void l((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(e){u(t,e)}var r,i}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){o(t,e)},n)}r[t]=a,0==--i&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)o(a,r[a])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();function p(t,e){return t(e={exports:{}},e.exports),e.exports}h.Promise||(h.Promise=o);var f=p(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),d=p(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),y=(d.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),_=function(t){if(!y(t))throw TypeError(t+" is not an object!");return t},v=function(t){try{return!!t()}catch(t){return!0}},C=!v(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),g=f.document,m=y(g)&&y(g.createElement),b=function(t){return m?g.createElement(t):{}},E=!C&&!v(function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a}),w=function(t,e){if(!y(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!y(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!y(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!y(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},S=Object.defineProperty,T={f:C?Object.defineProperty:function(t,e,n){if(_(t),e=w(e,!0),_(n),E)try{return S(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},P=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},O=C?function(t,e,n){return T.f(t,e,P(1,n))}:function(t,e,n){return t[e]=n,t},N={}.hasOwnProperty,I=function(t,e){return N.call(t,e)},A=0,R=Math.random(),D=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++A+R).toString(36))},L=p(function(t){var e=D("src"),n=Function.toString,r=(""+n).split("toString");d.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,i,o){var a="function"==typeof i;a&&(I(i,"name")||O(i,"name",n)),t[n]!==i&&(a&&(I(i,e)||O(i,e,t[n]?""+t[n]:r.join(String(n)))),t===f?t[n]=i:o?t[n]?t[n]=i:O(t,n,i):(delete t[n],O(t,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),x=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},k=function(t,e,n){var r,i,o,a,s=t&k.F,u=t&k.G,c=t&k.S,l=t&k.P,h=t&k.B,p=u?f:c?f[e]||(f[e]={}):(f[e]||{}).prototype,y=u?d:d[e]||(d[e]={}),_=y.prototype||(y.prototype={});for(r in u&&(n=e),n)o=((i=!s&&p&&void 0!==p[r])?p:n)[r],a=h&&i?x(o,f):l&&"function"==typeof o?x(Function.call,o):o,p&&L(p,r,o,t&k.U),y[r]!=o&&O(y,r,a),l&&_[r]!=o&&(_[r]=o)};f.core=d,k.F=1,k.G=2,k.S=4,k.P=8,k.B=16,k.W=32,k.U=64,k.R=128;var M=k,V={}.toString,F=function(t){return V.call(t).slice(8,-1)},H=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==F(t)?t.split(""):Object(t)},j=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},W=function(t){return Object(j(t))},q=Math.ceil,U=Math.floor,Q=function(t){return isNaN(t=+t)?0:(t>0?U:q)(t)},B=Math.min,Z=function(t){return t>0?B(Q(t),9007199254740991):0},K=Array.isArray||function(t){return"Array"==F(t)},z=f["__core-js_shared__"]||(f["__core-js_shared__"]={}),Y=function(t){return z[t]||(z[t]={})},G=p(function(t){var e=Y("wks"),n=f.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:D)("Symbol."+t))}).store=e}),$=G("species"),X=function(t,e){return new(function(t){var e;return K(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!K(e.prototype)||(e=void 0),y(e)&&null===(e=e[$])&&(e=void 0)),void 0===e?Array:e}(t))(e)},J=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,a=6==t,s=5==t||a,u=e||X;return function(e,c,l){for(var h,p,f=W(e),d=H(f),y=x(c,l,3),_=Z(d.length),v=0,C=n?u(e,_):r?u(e,0):void 0;_>v;v++)if((s||v in d)&&(p=y(h=d[v],v,f),t))if(n)C[v]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return v;case 2:C.push(h)}else if(o)return!1;return a?-1:i||o?o:C}},tt=G("unscopables"),et=Array.prototype;void 0==et[tt]&&O(et,tt,{});var nt=function(t){et[tt][t]=!0},rt=J(5),it=!0;"find"in[]&&Array(1).find(function(){it=!1}),M(M.P+M.F*it,"Array",{find:function(t){return rt(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("find");d.Array.find;var ot=J(6),at=!0;"findIndex"in[]&&Array(1).findIndex(function(){at=!1}),M(M.P+M.F*at,"Array",{findIndex:function(t){return ot(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("findIndex");d.Array.findIndex;var st,ut=function(t){return H(j(t))},ct=Math.max,lt=Math.min,ht=Y("keys"),pt=function(t){return ht[t]||(ht[t]=D(t))},ft=(st=!1,function(t,e,n){var r,i=ut(t),o=Z(i.length),a=function(t,e){return(t=Q(t))<0?ct(t+e,0):lt(t,e)}(n,o);if(st&&e!=e){for(;o>a;)if((r=i[a++])!=r)return!0}else for(;o>a;a++)if((st||a in i)&&i[a]===e)return st||a||0;return!st&&-1}),dt=pt("IE_PROTO"),yt=function(t,e){var n,r=ut(t),i=0,o=[];for(n in r)n!=dt&&I(r,n)&&o.push(n);for(;e.length>i;)I(r,n=e[i++])&&(~ft(o,n)||o.push(n));return o},_t="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),vt=Object.keys||function(t){return yt(t,_t)},Ct={f:Object.getOwnPropertySymbols},gt={f:{}.propertyIsEnumerable},mt=Object.assign,bt=!mt||v(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=mt({},t)[n]||Object.keys(mt({},e)).join("")!=r})?function(t,e){for(var n=W(t),r=arguments.length,i=1,o=Ct.f,a=gt.f;r>i;)for(var s,u=H(arguments[i++]),c=o?vt(u).concat(o(u)):vt(u),l=c.length,h=0;l>h;)a.call(u,s=c[h++])&&(n[s]=u[s]);return n}:mt;M(M.S+M.F,"Object",{assign:bt});d.Object.assign;var Et=G("match"),wt=function(t,e,n){if(y(r=e)&&(void 0!==(i=r[Et])?i:"RegExp"==F(r)))throw TypeError("String#"+n+" doesn't accept regex!");var r,i;return String(j(t))},St=G("match"),Tt="".startsWith;M(M.P+M.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[St]=!1,!"/./"[t](e)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=wt(this,t,"startsWith"),n=Z(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Tt?Tt.call(e,r,n):e.slice(n,n+r.length)===r}});d.String.startsWith;M(M.P,"String",{repeat:function(t){var e=String(j(this)),n="",r=Q(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}});d.String.repeat;var Pt=p(function(t){var e=D("meta"),n=T.f,r=0,i=Object.isExtensible||function(){return!0},o=!v(function(){return i(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!y(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!I(t,e)){if(!i(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!I(t,e)){if(!i(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return o&&s.NEED&&i(t)&&!I(t,e)&&a(t),t}}}),Ot=(Pt.KEY,Pt.NEED,Pt.fastKey,Pt.getWeak,Pt.onFreeze,T.f),Nt=G("toStringTag"),It=function(t,e,n){t&&!I(t=n?t:t.prototype,Nt)&&Ot(t,Nt,{configurable:!0,value:e})},At={f:G},Rt=T.f,Dt=function(t){var e=d.Symbol||(d.Symbol=f.Symbol||{});"_"==t.charAt(0)||t in e||Rt(e,t,{value:At.f(t)})},Lt=C?Object.defineProperties:function(t,e){_(t);for(var n,r=vt(e),i=r.length,o=0;i>o;)T.f(t,n=r[o++],e[n]);return t},xt=f.document,kt=xt&&xt.documentElement,Mt=pt("IE_PROTO"),Vt=function(){},Ft=function(){var t,e=b("iframe"),n=_t.length;for(e.style.display="none",kt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Ft=t.F;n--;)delete Ft.prototype[_t[n]];return Ft()},Ht=Object.create||function(t,e){var n;return null!==t?(Vt.prototype=_(t),n=new Vt,Vt.prototype=null,n[Mt]=t):n=Ft(),void 0===e?n:Lt(n,e)},jt=_t.concat("length","prototype"),Wt={f:Object.getOwnPropertyNames||function(t){return yt(t,jt)}},qt=Wt.f,Ut={}.toString,Qt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Bt={f:function(t){return Qt&&"[object Window]"==Ut.call(t)?function(t){try{return qt(t)}catch(t){return Qt.slice()}}(t):qt(ut(t))}},Zt=Object.getOwnPropertyDescriptor,Kt={f:C?Zt:function(t,e){if(t=ut(t),e=w(e,!0),E)try{return Zt(t,e)}catch(t){}if(I(t,e))return P(!gt.f.call(t,e),t[e])}},zt=Pt.KEY,Yt=Kt.f,Gt=T.f,$t=Bt.f,Xt=f.Symbol,Jt=f.JSON,te=Jt&&Jt.stringify,ee=G("_hidden"),ne=G("toPrimitive"),re={}.propertyIsEnumerable,ie=Y("symbol-registry"),oe=Y("symbols"),ae=Y("op-symbols"),se=Object.prototype,ue="function"==typeof Xt,ce=f.QObject,le=!ce||!ce.prototype||!ce.prototype.findChild,he=C&&v(function(){return 7!=Ht(Gt({},"a",{get:function(){return Gt(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Yt(se,e);r&&delete se[e],Gt(t,e,n),r&&t!==se&&Gt(se,e,r)}:Gt,pe=function(t){var e=oe[t]=Ht(Xt.prototype);return e._k=t,e},fe=ue&&"symbol"==typeof Xt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Xt},de=function(t,e,n){return t===se&&de(ae,e,n),_(t),e=w(e,!0),_(n),I(oe,e)?(n.enumerable?(I(t,ee)&&t[ee][e]&&(t[ee][e]=!1),n=Ht(n,{enumerable:P(0,!1)})):(I(t,ee)||Gt(t,ee,P(1,{})),t[ee][e]=!0),he(t,e,n)):Gt(t,e,n)},ye=function(t,e){_(t);for(var n,r=function(t){var e=vt(t),n=Ct.f;if(n)for(var r,i=n(t),o=gt.f,a=0;i.length>a;)o.call(t,r=i[a++])&&e.push(r);return e}(e=ut(e)),i=0,o=r.length;o>i;)de(t,n=r[i++],e[n]);return t},_e=function(t){var e=re.call(this,t=w(t,!0));return!(this===se&&I(oe,t)&&!I(ae,t))&&(!(e||!I(this,t)||!I(oe,t)||I(this,ee)&&this[ee][t])||e)},ve=function(t,e){if(t=ut(t),e=w(e,!0),t!==se||!I(oe,e)||I(ae,e)){var n=Yt(t,e);return!n||!I(oe,e)||I(t,ee)&&t[ee][e]||(n.enumerable=!0),n}},Ce=function(t){for(var e,n=$t(ut(t)),r=[],i=0;n.length>i;)I(oe,e=n[i++])||e==ee||e==zt||r.push(e);return r},ge=function(t){for(var e,n=t===se,r=$t(n?ae:ut(t)),i=[],o=0;r.length>o;)!I(oe,e=r[o++])||n&&!I(se,e)||i.push(oe[e]);return i};ue||(L((Xt=function(){if(this instanceof Xt)throw TypeError("Symbol is not a constructor!");var t=D(arguments.length>0?arguments[0]:void 0),e=function(n){this===se&&e.call(ae,n),I(this,ee)&&I(this[ee],t)&&(this[ee][t]=!1),he(this,t,P(1,n))};return C&&le&&he(se,t,{configurable:!0,set:e}),pe(t)}).prototype,"toString",function(){return this._k}),Kt.f=ve,T.f=de,Wt.f=Bt.f=Ce,gt.f=_e,Ct.f=ge,C&&L(se,"propertyIsEnumerable",_e,!0),At.f=function(t){return pe(G(t))}),M(M.G+M.W+M.F*!ue,{Symbol:Xt});for(var me="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),be=0;me.length>be;)G(me[be++]);for(var Ee=vt(G.store),we=0;Ee.length>we;)Dt(Ee[we++]);M(M.S+M.F*!ue,"Symbol",{for:function(t){return I(ie,t+="")?ie[t]:ie[t]=Xt(t)},keyFor:function(t){if(!fe(t))throw TypeError(t+" is not a symbol!");for(var e in ie)if(ie[e]===t)return e},useSetter:function(){le=!0},useSimple:function(){le=!1}}),M(M.S+M.F*!ue,"Object",{create:function(t,e){return void 0===e?Ht(t):ye(Ht(t),e)},defineProperty:de,defineProperties:ye,getOwnPropertyDescriptor:ve,getOwnPropertyNames:Ce,getOwnPropertySymbols:ge}),Jt&&M(M.S+M.F*(!ue||v(function(){var t=Xt();return"[null]"!=te([t])||"{}"!=te({a:t})||"{}"!=te(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(y(e)||void 0!==t)&&!fe(t))return K(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!fe(e))return e}),r[1]=e,te.apply(Jt,r)}}),Xt.prototype[ne]||O(Xt.prototype,ne,Xt.prototype.valueOf),It(Xt,"Symbol"),It(Math,"Math",!0),It(f.JSON,"JSON",!0);var Se=G("toStringTag"),Te="Arguments"==F(function(){return arguments}()),Pe={};Pe[G("toStringTag")]="z",Pe+""!="[object z]"&&L(Object.prototype,"toString",function(){return"[object "+(void 0===(t=this)?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Se))?n:Te?F(e):"Object"==(r=F(e))&&"function"==typeof e.callee?"Arguments":r)+"]";var t,e,n,r},!0),Dt("asyncIterator"),Dt("observable");d.Symbol;var Oe={},Ne={};O(Ne,G("iterator"),function(){return this});var Ie,Ae=function(t,e,n){t.prototype=Ht(Ne,{next:P(1,n)}),It(t,e+" Iterator")},Re=pt("IE_PROTO"),De=Object.prototype,Le=Object.getPrototypeOf||function(t){return t=W(t),I(t,Re)?t[Re]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?De:null},xe=G("iterator"),ke=!([].keys&&"next"in[].keys()),Me=function(){return this},Ve=function(t,e,n,r,i,o,a){Ae(n,e,r);var s,u,c,l=function(t){if(!ke&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",p="values"==i,f=!1,d=t.prototype,y=d[xe]||d["@@iterator"]||i&&d[i],_=y||l(i),v=i?p?l("entries"):_:void 0,C="Array"==e&&d.entries||y;if(C&&(c=Le(C.call(new t)))!==Object.prototype&&c.next&&(It(c,h,!0),"function"!=typeof c[xe]&&O(c,xe,Me)),p&&y&&"values"!==y.name&&(f=!0,_=function(){return y.call(this)}),(ke||f||!d[xe])&&O(d,xe,_),Oe[e]=_,Oe[h]=Me,i)if(s={values:p?_:l("values"),keys:o?_:l("keys"),entries:v},a)for(u in s)u in d||L(d,u,s[u]);else M(M.P+M.F*(ke||f),e,s);return s},Fe=(Ie=!0,function(t,e){var n,r,i=String(j(t)),o=Q(e),a=i.length;return o<0||o>=a?Ie?"":void 0:(n=i.charCodeAt(o))<55296||n>56319||o+1===a||(r=i.charCodeAt(o+1))<56320||r>57343?Ie?i.charAt(o):n:Ie?i.slice(o,o+2):r-56320+(n-55296<<10)+65536});Ve(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Fe(e,n),this._i+=t.length,{value:t,done:!1})});var He=function(t,e){return{value:e,done:!!t}},je=Ve(Array,"Array",function(t,e){this._t=ut(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,He(1)):He(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Oe.Arguments=Oe.Array,nt("keys"),nt("values"),nt("entries");for(var We=G("iterator"),qe=G("toStringTag"),Ue=Oe.Array,Qe={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Be=vt(Qe),Ze=0;Ze<Be.length;Ze++){var Ke,ze=Be[Ze],Ye=Qe[ze],Ge=f[ze],$e=Ge&&Ge.prototype;if($e&&($e[We]||O($e,We,Ue),$e[qe]||O($e,qe,ze),Oe[ze]=Ue,Ye))for(Ke in je)$e[Ke]||L($e,Ke,je[Ke],!0)}At.f("iterator")}.call(this,n(15).setImmediate,n(0))},function(t,e,n){"use strict";n(16);var r,i=(r=n(6))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(17),o=(r=i)&&r.__esModule?r:{default:r};n(12),o.default.initializeApp({apiKey:"AIzaSyD-4eLdAVByvQHcc1puyU8AFLL90qv3BBc",databaseURL:"https://make-up-your-mind.firebaseio.com"});var a,s,u;e.default=(a=o.default,s=void 0,u=function(t){return s||(s=a.database().ref(t)),s},{onChange:function(t,e){u(t).on("value",function(t){e(t.val())})},get:function(t){return u(t).once("value").then(function(t){return t.val()})},set:function(t,e){u(t).set(e)}})},,,function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,i=n;return i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e,n){var r,i,o=n(22),a=n(21),s=0,u=0;t.exports=function(t,e,n){var c=e&&n||0,l=e||[],h=(t=t||{}).node||r,p=void 0!==t.clockseq?t.clockseq:i;if(null==h||null==p){var f=o();null==h&&(h=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=i=16383&(f[6]<<8|f[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:u+1,_=d-s+(y-u)/1e4;if(_<0&&void 0===t.clockseq&&(p=p+1&16383),(_<0||d>s)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,u=y,i=p;var v=(1e4*(268435455&(d+=122192928e5))+y)%4294967296;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var C=d/4294967296*1e4&268435455;l[c++]=C>>>8&255,l[c++]=255&C,l[c++]=C>>>24&15|16,l[c++]=C>>>16&255,l[c++]=p>>>8|128,l[c++]=255&p;for(var g=0;g<6;++g)l[c+g]=h[g];return e||a(l)}},,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.factory=e.BLOCKS_COORDS=void 0;var r=a(n(18)),i=a(n(58)),o=a(n(57));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var u=e.BLOCKS_COORDS=[{x:50.5,y:68.967},{x:50.5,y:115.51},{x:50.5,y:163.134},{x:50.5,y:209.677}],c=["quality","budget","scope","deadline"],l=e.factory=function(t){var e=t.initialData,n=void 0===e?c:e,a=t.coordinates,l=void 0===a?u:a,h=t.realtimeDatabaseClient,p=void 0===h?r.default:h,f=[],d=void 0,y=function(){return p.get(d).then(function(t){return t||[].concat(s(n))})},_=function(t){return p.set(d,t)},v=function(t){f.forEach(function(e){e(t||[].concat(s(n)))})};return{init:function(t){return d="levers/"+t,y().then(function(t){return p.onChange(d,v),t})},addOnChangeListener:function(t){return f=[].concat(s(f),[t]),function(){f=f.filter(function(e){return e!==t})}},shuffle:function(){return y().then(function(t){var e=(0,i.default)(t);return _(e),e})},changePosition:function(t,e){return y().then(function(n){var r=l.map(function(t,e){return{coords:t,name:n[e]}});(r=r.filter(function(e){return e.name!==t})).push({name:t,coords:e});var i=(0,o.default)(r,"coords.y").map(function(t){return t.name});return _(i),i})}}};e.default=l({})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EVENTS=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),o=u(n(59)),a=u(n(55)),s=u(n(54));function u(t){return t&&t.__esModule?t:{default:t}}function c(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(c.prototype,HTMLElement.prototype),Object.setPrototypeOf(c,HTMLElement);var l=["mousedown","touchstart"],h=["mousemove","touchmove"],p=["mouseleave","mouseup","touchend"],f=e.EVENTS={CHANGE_POSITION:"LEVERS_CHART/CHANGE_POSITION"},d=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.startDrag=t.startDrag.bind(t),t.onDrag=t.onDrag.bind(t),t.endDrag=t.endDrag.bind(t),t.render=t.render.bind(t),t.activeBlock=void 0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c),r(e,[{key:"startDrag",value:function(t){t.preventDefault(),this.blocks.forEach(function(e){return e.startDrag(t)}),this.activeBlock=this.blocks.find(function(t){return t.active})}},{key:"onDrag",value:function(t){t.preventDefault(),this.blocks.forEach(function(e){return e.onDrag(t)})}},{key:"endDrag",value:function(t){if(t.preventDefault(),this.blocks.forEach(function(e){return e.endDrag(t)}),this.activeBlock){var e=new window.CustomEvent(f.CHANGE_POSITION,{detail:{name:this.activeBlock.name,coords:this.activeBlock.coords},bubbles:!0});this.dispatchEvent(e)}}},{key:"render",value:function(){var t=this;this.innerHTML="";var e=(0,i.htmlToElement)(s.default);e.appendChild((0,i.htmlToElement)("<style>"+a.default+"</style>")),this.blocks=this.data.map(function(t,n){var r=e.querySelector('[data-block="'+t+'"]');return(0,o.default)({parent:e,node:r,index:n})}),this.appendChild(e),l.forEach(function(n){return e.addEventListener(n,t.startDrag)}),h.forEach(function(n){return e.addEventListener(n,t.onDrag)}),p.forEach(function(n){return e.addEventListener(n,t.endDrag)})}},{key:"connectedCallback",value:function(){this.render()}},{key:"attributeChangedCallback",value:function(){window.requestAnimationFrame(this.render)}},{key:"data",get:function(){return this.hasAttribute("data")?JSON.parse(this.getAttribute("data")):[]},set:function(t){this.setAttribute("data",JSON.stringify(t))}}],[{key:"observedAttributes",get:function(){return["data"]}}]),e}();e.default=d},,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports='<svg viewBox="0 0 338 385" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <g data-block="budget" transform="translate(50.5,68.967)">\n            <path d="M233 0H3C1.34315 0 0 1.4538 0 3.24715V35.7186C0 37.512 1.34315 38.9658 3 38.9658H233C234.657 38.9658 236 37.512 236 35.7186V3.24715C236 1.4538 234.657 0 233 0Z"\n            fill="#C80F1E" />\n            <path d="M8.88 9.224C9.616 9.384 10.1813 9.704 10.576 10.184C10.9813 10.6533 11.184 11.2613 11.184 12.008C11.184 12.968 10.8267 13.7093 10.112 14.232C9.408 14.744 8.36267 15 6.976 15H1.824V3.8H6.656C7.904 3.8 8.86933 4.05067 9.552 4.552C10.2453 5.05333 10.592 5.76267 10.592 6.68C10.592 7.29867 10.4373 7.82667 10.128 8.264C9.82933 8.69067 9.41333 9.01067 8.88 9.224ZM3.008 4.776V8.84H6.576C7.48267 8.84 8.18133 8.66933 8.672 8.328C9.16267 7.976 9.408 7.46933 9.408 6.808C9.408 6.14667 9.16267 5.64533 8.672 5.304C8.18133 4.952 7.48267 4.776 6.576 4.776H3.008ZM6.96 14.024C7.96267 14.024 8.72 13.8533 9.232 13.512C9.744 13.1707 10 12.6373 10 11.912C10 10.5147 8.98667 9.816 6.96 9.816H3.008V14.024H6.96ZM18.3985 15.096C16.9478 15.096 15.8172 14.68 15.0065 13.848C14.1958 13.016 13.7905 11.8053 13.7905 10.216V3.8H14.9745V10.168C14.9745 11.4693 15.2678 12.44 15.8545 13.08C16.4412 13.72 17.2892 14.04 18.3985 14.04C19.5185 14.04 20.3718 13.72 20.9585 13.08C21.5452 12.44 21.8385 11.4693 21.8385 10.168V3.8H22.9905V10.216C22.9905 11.8053 22.5852 13.016 21.7745 13.848C20.9745 14.68 19.8492 15.096 18.3985 15.096ZM26.5584 3.8H31.1184C32.3024 3.8 33.3477 4.04 34.2544 4.52C35.161 4.98933 35.865 5.65067 36.3664 6.504C36.8677 7.34667 37.1184 8.312 37.1184 9.4C37.1184 10.488 36.8677 11.4587 36.3664 12.312C35.865 13.1547 35.161 13.816 34.2544 14.296C33.3477 14.7653 32.3024 15 31.1184 15H26.5584V3.8ZM31.0544 13.976C32.0357 13.976 32.8944 13.784 33.6304 13.4C34.3664 13.0053 34.937 12.4667 35.3424 11.784C35.7477 11.0907 35.9504 10.296 35.9504 9.4C35.9504 8.504 35.7477 7.71467 35.3424 7.032C34.937 6.33867 34.3664 5.8 33.6304 5.416C32.8944 5.02133 32.0357 4.824 31.0544 4.824H27.7424V13.976H31.0544ZM47.6651 9.4H48.8011V13.672C48.2785 14.1307 47.6598 14.4827 46.9451 14.728C46.2305 14.9733 45.4785 15.096 44.6891 15.096C43.5691 15.096 42.5611 14.8507 41.6651 14.36C40.7691 13.8693 40.0651 13.192 39.5531 12.328C39.0411 11.4533 38.7851 10.4773 38.7851 9.4C38.7851 8.32267 39.0411 7.352 39.5531 6.488C40.0651 5.61333 40.7691 4.93067 41.6651 4.44C42.5611 3.94933 43.5745 3.704 44.7051 3.704C45.5585 3.704 46.3425 3.84267 47.0571 4.12C47.7718 4.38667 48.3745 4.78667 48.8651 5.32L48.1291 6.072C47.2438 5.19733 46.1185 4.76 44.7531 4.76C43.8465 4.76 43.0251 4.96267 42.2891 5.368C41.5638 5.76267 40.9931 6.31733 40.5771 7.032C40.1611 7.736 39.9531 8.52533 39.9531 9.4C39.9531 10.2747 40.1611 11.064 40.5771 11.768C40.9931 12.472 41.5638 13.0267 42.2891 13.432C43.0145 13.8373 43.8305 14.04 44.7371 14.04C45.8891 14.04 46.8651 13.752 47.6651 13.176V9.4ZM60.0721 13.976V15H52.1521V3.8H59.8321V4.824H53.3361V8.808H59.1281V9.816H53.3361V13.976H60.0721ZM65.0312 4.824H61.0953V3.8H70.1512V4.824H66.2153V15H65.0312V4.824Z"\n                transform="translate(83.516 8.6591)" fill="white" fill-opacity="0.8" />\n        </g>\n        <g data-block="deadline" transform="translate(50.5,115.51)">\n            <path d="M233 0H3C1.34315 0 0 1.4538 0 3.24715V35.7186C0 37.512 1.34315 38.9658 3 38.9658H233C234.657 38.9658 236 37.512 236 35.7186V3.24715C236 1.4538 234.657 0 233 0Z"\n            fill="#E28F4A" />\n        <path d="M1.824 3.8H6.384C7.568 3.8 8.61333 4.04 9.52 4.52C10.4267 4.98933 11.1307 5.65067 11.632 6.504C12.1333 7.34667 12.384 8.312 12.384 9.4C12.384 10.488 12.1333 11.4587 11.632 12.312C11.1307 13.1547 10.4267 13.816 9.52 14.296C8.61333 14.7653 7.568 15 6.384 15H1.824V3.8ZM6.32 13.976C7.30133 13.976 8.16 13.784 8.896 13.4C9.632 13.0053 10.2027 12.4667 10.608 11.784C11.0133 11.0907 11.216 10.296 11.216 9.4C11.216 8.504 11.0133 7.71467 10.608 7.032C10.2027 6.33867 9.632 5.8 8.896 5.416C8.16 5.02133 7.30133 4.824 6.32 4.824H3.008V13.976H6.32ZM22.9628 13.976V15H15.0428V3.8H22.7227V4.824H16.2267V8.808H22.0188V9.816H16.2267V13.976H22.9628ZM32.7699 12.008H26.5299L25.1859 15H23.9539L29.0739 3.8H30.2419L35.3619 15H34.1139L32.7699 12.008ZM32.3379 11.048L29.6499 5.032L26.9619 11.048H32.3379ZM37.2146 3.8H41.7746C42.9586 3.8 44.004 4.04 44.9106 4.52C45.8173 4.98933 46.5213 5.65067 47.0226 6.504C47.524 7.34667 47.7746 8.312 47.7746 9.4C47.7746 10.488 47.524 11.4587 47.0226 12.312C46.5213 13.1547 45.8173 13.816 44.9106 14.296C44.004 14.7653 42.9586 15 41.7746 15H37.2146V3.8ZM41.7106 13.976C42.692 13.976 43.5506 13.784 44.2866 13.4C45.0226 13.0053 45.5933 12.4667 45.9986 11.784C46.404 11.0907 46.6066 10.296 46.6066 9.4C46.6066 8.504 46.404 7.71467 45.9986 7.032C45.5933 6.33867 45.0226 5.8 44.2866 5.416C43.5506 5.02133 42.692 4.824 41.7106 4.824H38.3986V13.976H41.7106ZM50.4334 3.8H51.6174V13.976H57.8894V15H50.4334V3.8ZM59.8553 3.8H61.0392V15H59.8553V3.8ZM74.0434 3.8V15H73.0674L65.8674 5.912V15H64.6834V3.8H65.6594L72.8754 12.888V3.8H74.0434ZM85.619 13.976V15H77.699V3.8H85.379V4.824H78.883V8.808H84.675V9.816H78.883V13.976H85.619Z"\n            transform="translate(75.712 8.6591)" fill="white" fill-opacity="0.8" />\n        </g>\n        <g data-block="scope" transform="translate(50.5,163.134)">\n            <path d="M233 0H3C1.34315 0 0 1.4538 0 3.24715V35.7186C0 37.512 1.34315 38.9658 3 38.9658H233C234.657 38.9658 236 37.512 236 35.7186V3.24715C236 1.4538 234.657 0 233 0Z"\n            fill="#EFC04F" />\n            <path d="M4.912 15.096C4.08 15.096 3.28 14.9627 2.512 14.696C1.75467 14.4293 1.168 14.0773 0.752 13.64L1.216 12.728C1.62133 13.1333 2.16 13.464 2.832 13.72C3.504 13.9653 4.19733 14.088 4.912 14.088C5.91467 14.088 6.66667 13.9067 7.168 13.544C7.66933 13.1707 7.92 12.6907 7.92 12.104C7.92 11.656 7.78133 11.2987 7.504 11.032C7.23733 10.7653 6.90667 10.5627 6.512 10.424C6.11733 10.2747 5.568 10.1147 4.864 9.944C4.02133 9.73067 3.34933 9.528 2.848 9.336C2.34667 9.13333 1.91467 8.82933 1.552 8.424C1.2 8.01867 1.024 7.46933 1.024 6.776C1.024 6.21067 1.17333 5.69867 1.472 5.24C1.77067 4.77067 2.22933 4.39733 2.848 4.12C3.46667 3.84267 4.23467 3.704 5.152 3.704C5.792 3.704 6.416 3.79467 7.024 3.976C7.64267 4.14667 8.176 4.38667 8.624 4.696L8.224 5.64C7.75467 5.33067 7.25333 5.10133 6.72 4.952C6.18667 4.792 5.664 4.712 5.152 4.712C4.17067 4.712 3.42933 4.904 2.928 5.288C2.43733 5.66133 2.192 6.14667 2.192 6.744C2.192 7.192 2.32533 7.55467 2.592 7.832C2.86933 8.09867 3.21067 8.30667 3.616 8.456C4.032 8.59467 4.58667 8.74933 5.28 8.92C6.10133 9.12267 6.76267 9.32533 7.264 9.528C7.776 9.72 8.208 10.0187 8.56 10.424C8.912 10.8187 9.088 11.3573 9.088 12.04C9.088 12.6053 8.93333 13.1227 8.624 13.592C8.32533 14.0507 7.86133 14.4187 7.232 14.696C6.60267 14.9627 5.82933 15.096 4.912 15.096ZM16.5318 15.096C15.4224 15.096 14.4198 14.8507 13.5238 14.36C12.6384 13.8693 11.9397 13.192 11.4277 12.328C10.9264 11.4533 10.6758 10.4773 10.6758 9.4C10.6758 8.32267 10.9264 7.352 11.4277 6.488C11.9397 5.61333 12.6438 4.93067 13.5398 4.44C14.4358 3.94933 15.4384 3.704 16.5477 3.704C17.3798 3.704 18.1478 3.84267 18.8518 4.12C19.5558 4.39733 20.1531 4.80267 20.6438 5.336L19.8918 6.088C19.0171 5.20267 17.9131 4.76 16.5798 4.76C15.6944 4.76 14.8891 4.96267 14.1638 5.368C13.4384 5.77333 12.8678 6.328 12.4518 7.032C12.0464 7.736 11.8438 8.52533 11.8438 9.4C11.8438 10.2747 12.0464 11.064 12.4518 11.768C12.8678 12.472 13.4384 13.0267 14.1638 13.432C14.8891 13.8373 15.6944 14.04 16.5798 14.04C17.9237 14.04 19.0278 13.592 19.8918 12.696L20.6438 13.448C20.1531 13.9813 19.5504 14.392 18.8357 14.68C18.1317 14.9573 17.3637 15.096 16.5318 15.096ZM27.8294 15.096C26.72 15.096 25.712 14.8507 24.8054 14.36C23.9094 13.8587 23.2054 13.176 22.6934 12.312C22.192 11.448 21.9414 10.4773 21.9414 9.4C21.9414 8.32267 22.192 7.352 22.6934 6.488C23.2054 5.624 23.9094 4.94667 24.8054 4.456C25.712 3.95467 26.72 3.704 27.8294 3.704C28.9387 3.704 29.936 3.94933 30.8214 4.44C31.7174 4.93067 32.4214 5.61333 32.9334 6.488C33.4454 7.352 33.7014 8.32267 33.7014 9.4C33.7014 10.4773 33.4454 11.4533 32.9334 12.328C32.4214 13.192 31.7174 13.8693 30.8214 14.36C29.936 14.8507 28.9387 15.096 27.8294 15.096ZM27.8294 14.04C28.7147 14.04 29.5147 13.8427 30.2294 13.448C30.944 13.0427 31.504 12.488 31.9094 11.784C32.3147 11.0693 32.5174 10.2747 32.5174 9.4C32.5174 8.52533 32.3147 7.736 31.9094 7.032C31.504 6.31733 30.944 5.76267 30.2294 5.368C29.5147 4.96267 28.7147 4.76 27.8294 4.76C26.944 4.76 26.1387 4.96267 25.4134 5.368C24.6987 5.76267 24.1334 6.31733 23.7174 7.032C23.312 7.736 23.1094 8.52533 23.1094 9.4C23.1094 10.2747 23.312 11.0693 23.7174 11.784C24.1334 12.488 24.6987 13.0427 25.4134 13.448C26.1387 13.8427 26.944 14.04 27.8294 14.04ZM40.5472 3.8C41.9766 3.8 43.0966 4.14133 43.9073 4.824C44.7179 5.50667 45.1233 6.44533 45.1233 7.64C45.1233 8.83467 44.7179 9.77333 43.9073 10.456C43.0966 11.128 41.9766 11.464 40.5472 11.464H37.5392V15H36.3553V3.8H40.5472ZM40.5153 10.424C41.6246 10.424 42.4726 10.184 43.0592 9.704C43.6459 9.21333 43.9392 8.52533 43.9392 7.64C43.9392 6.73333 43.6459 6.04 43.0592 5.56C42.4726 5.06933 41.6246 4.824 40.5153 4.824H37.5392V10.424H40.5153ZM55.6034 13.976V15H47.6834V3.8H55.3634V4.824H48.8674V8.808H54.6594V9.816H48.8674V13.976H55.6034Z"\n            transform="translate(90.248 8.6591)" fill="white" fill-opacity="0.8" />\n        </g>\n        <g data-block="quality" transform="translate(50.5,209.677)">\n            <path d="M233 0H3C1.34315 0 0 1.4538 0 3.24715V35.7186C0 37.512 1.34315 38.9658 3 38.9658H233C234.657 38.9658 236 37.512 236 35.7186V3.24715C236 1.4538 234.657 0 233 0Z"\n            fill="#95C283" />\n            <path d="M13.104 15.944C12.7627 16.36 12.3573 16.6747 11.888 16.888C11.4293 17.112 10.928 17.224 10.384 17.224C9.72267 17.224 9.09333 17.0587 8.496 16.728C7.90933 16.408 7.248 15.864 6.512 15.096C5.43467 15.064 4.464 14.7973 3.6 14.296C2.736 13.7947 2.05867 13.1173 1.568 12.264C1.07733 11.4107 0.832 10.456 0.832 9.4C0.832 8.32267 1.08267 7.352 1.584 6.488C2.096 5.624 2.8 4.94667 3.696 4.456C4.60267 3.95467 5.61067 3.704 6.72 3.704C7.82933 3.704 8.82667 3.94933 9.712 4.44C10.608 4.93067 11.312 5.61333 11.824 6.488C12.336 7.352 12.592 8.32267 12.592 9.4C12.592 10.3387 12.3947 11.2027 12 11.992C11.616 12.7707 11.072 13.4213 10.368 13.944C9.67467 14.4667 8.87467 14.8133 7.968 14.984C8.78933 15.848 9.6 16.28 10.4 16.28C11.232 16.28 11.9413 15.9387 12.528 15.256L13.104 15.944ZM2 9.4C2 10.2747 2.20267 11.064 2.608 11.768C3.024 12.472 3.58933 13.0267 4.304 13.432C5.02933 13.8373 5.83467 14.04 6.72 14.04C7.60533 14.04 8.40533 13.8373 9.12 13.432C9.83467 13.0267 10.3947 12.472 10.8 11.768C11.2053 11.064 11.408 10.2747 11.408 9.4C11.408 8.52533 11.2053 7.736 10.8 7.032C10.3947 6.328 9.83467 5.77333 9.12 5.368C8.40533 4.96267 7.60533 4.76 6.72 4.76C5.83467 4.76 5.02933 4.96267 4.304 5.368C3.58933 5.77333 3.024 6.328 2.608 7.032C2.20267 7.736 2 8.52533 2 9.4ZM19.7579 15.096C18.3072 15.096 17.1765 14.68 16.3659 13.848C15.5552 13.016 15.1499 11.8053 15.1499 10.216V3.8H16.3339V10.168C16.3339 11.4693 16.6272 12.44 17.2139 13.08C17.8005 13.72 18.6485 14.04 19.7579 14.04C20.8779 14.04 21.7312 13.72 22.3179 13.08C22.9045 12.44 23.1979 11.4693 23.1979 10.168V3.8H24.3499V10.216C24.3499 11.8053 23.9445 13.016 23.1339 13.848C22.3339 14.68 21.2085 15.096 19.7579 15.096ZM34.7074 12.008H28.4674L27.1234 15H25.8914L31.0114 3.8H32.1794L37.2994 15H36.0514L34.7074 12.008ZM34.2754 11.048L31.5874 5.032L28.8994 11.048H34.2754ZM39.1521 3.8H40.3361V13.976H46.6081V15H39.1521V3.8ZM48.574 3.8H49.758V15H48.574V3.8ZM55.5781 4.824H51.6421V3.8H60.6981V4.824H56.7621V15H55.5781V4.824ZM66.3515 11.128V15H65.1835V11.128L60.7035 3.8H61.9675L65.8075 10.088L69.6475 3.8H70.8315L66.3515 11.128Z"\n            transform="translate(81.992 8.6591)" fill="white" fill-opacity="0.8" />\n        </g>\n        <path d="M44.7734 29.18C42.6934 29.18 40.8134 28.72 39.1334 27.8C37.4734 26.88 36.1634 25.61 35.2034 23.99C34.2634 22.35 33.7934 20.52 33.7934 18.5C33.7934 16.48 34.2634 14.66 35.2034 13.04C36.1634 11.4 37.4834 10.12 39.1634 9.2C40.8434 8.28 42.7234 7.82 44.8034 7.82C46.3634 7.82 47.8034 8.08 49.1234 8.6C50.4434 9.12 51.5634 9.88 52.4834 10.88L51.0734 12.29C49.4334 10.63 47.3634 9.8 44.8634 9.8C43.2034 9.8 41.6934 10.18 40.3334 10.94C38.9734 11.7 37.9034 12.74 37.1234 14.06C36.3634 15.38 35.9834 16.86 35.9834 18.5C35.9834 20.14 36.3634 21.62 37.1234 22.94C37.9034 24.26 38.9734 25.3 40.3334 26.06C41.6934 26.82 43.2034 27.2 44.8634 27.2C47.3834 27.2 49.4534 26.36 51.0734 24.68L52.4834 26.09C51.5634 27.09 50.4334 27.86 49.0934 28.4C47.7734 28.92 46.3334 29.18 44.7734 29.18ZM62.5128 29.15C60.9928 29.15 59.6228 28.81 58.4028 28.13C57.1828 27.43 56.2228 26.47 55.5228 25.25C54.8228 24.03 54.4728 22.65 54.4728 21.11C54.4728 19.57 54.8228 18.19 55.5228 16.97C56.2228 15.75 57.1828 14.8 58.4028 14.12C59.6228 13.44 60.9928 13.1 62.5128 13.1C64.0328 13.1 65.4028 13.44 66.6228 14.12C67.8428 14.8 68.7928 15.75 69.4728 16.97C70.1728 18.19 70.5228 19.57 70.5228 21.11C70.5228 22.65 70.1728 24.03 69.4728 25.25C68.7928 26.47 67.8428 27.43 66.6228 28.13C65.4028 28.81 64.0328 29.15 62.5128 29.15ZM62.5128 27.26C63.6328 27.26 64.6328 27.01 65.5128 26.51C66.4128 25.99 67.1128 25.26 67.6128 24.32C68.1128 23.38 68.3628 22.31 68.3628 21.11C68.3628 19.91 68.1128 18.84 67.6128 17.9C67.1128 16.96 66.4128 16.24 65.5128 15.74C64.6328 15.22 63.6328 14.96 62.5128 14.96C61.3928 14.96 60.3828 15.22 59.4828 15.74C58.6028 16.24 57.9028 16.96 57.3828 17.9C56.8828 18.84 56.6328 19.91 56.6328 21.11C56.6328 22.31 56.8828 23.38 57.3828 24.32C57.9028 25.26 58.6028 25.99 59.4828 26.51C60.3828 27.01 61.3928 27.26 62.5128 27.26ZM82.9114 13.1C84.8914 13.1 86.4614 13.68 87.6214 14.84C88.8014 15.98 89.3914 17.65 89.3914 19.85V29H87.2614V20.06C87.2614 18.42 86.8514 17.17 86.0314 16.31C85.2114 15.45 84.0414 15.02 82.5214 15.02C80.8214 15.02 79.4714 15.53 78.4714 16.55C77.4914 17.55 77.0014 18.94 77.0014 20.72V29H74.8714V13.22H76.9114V16.13C77.4914 15.17 78.2914 14.43 79.3114 13.91C80.3514 13.37 81.5514 13.1 82.9114 13.1ZM99.4041 29.15C98.1241 29.15 96.8941 28.97 95.7141 28.61C94.5541 28.23 93.6441 27.76 92.9841 27.2L93.9441 25.52C94.6041 26.04 95.4341 26.47 96.4341 26.81C97.4341 27.13 98.4741 27.29 99.5541 27.29C100.994 27.29 102.054 27.07 102.734 26.63C103.434 26.17 103.784 25.53 103.784 24.71C103.784 24.13 103.594 23.68 103.214 23.36C102.834 23.02 102.354 22.77 101.774 22.61C101.194 22.43 100.424 22.26 99.4641 22.1C98.1841 21.86 97.1541 21.62 96.3741 21.38C95.5941 21.12 94.9241 20.69 94.3641 20.09C93.8241 19.49 93.5541 18.66 93.5541 17.6C93.5541 16.28 94.1041 15.2 95.2041 14.36C96.3041 13.52 97.8341 13.1 99.7941 13.1C100.814 13.1 101.834 13.24 102.854 13.52C103.874 13.78 104.714 14.13 105.374 14.57L104.444 16.28C103.144 15.38 101.594 14.93 99.7941 14.93C98.4341 14.93 97.4041 15.17 96.7041 15.65C96.0241 16.13 95.6841 16.76 95.6841 17.54C95.6841 18.14 95.8741 18.62 96.2541 18.98C96.6541 19.34 97.1441 19.61 97.7241 19.79C98.3041 19.95 99.1041 20.12 100.124 20.3C101.384 20.54 102.394 20.78 103.154 21.02C103.914 21.26 104.564 21.67 105.104 22.25C105.644 22.83 105.914 23.63 105.914 24.65C105.914 26.03 105.334 27.13 104.174 27.95C103.034 28.75 101.444 29.15 99.4041 29.15ZM118.162 28.04C117.762 28.4 117.262 28.68 116.662 28.88C116.082 29.06 115.472 29.15 114.832 29.15C113.352 29.15 112.212 28.75 111.412 27.95C110.612 27.15 110.212 26.02 110.212 24.56V15.02H107.392V13.22H110.212V9.77H112.342V13.22H117.142V15.02H112.342V24.44C112.342 25.38 112.572 26.1 113.032 26.6C113.512 27.08 114.192 27.32 115.072 27.32C115.512 27.32 115.932 27.25 116.332 27.11C116.752 26.97 117.112 26.77 117.412 26.51L118.162 28.04ZM124.079 16.31C124.579 15.25 125.319 14.45 126.299 13.91C127.299 13.37 128.529 13.1 129.989 13.1V15.17L129.479 15.14C127.819 15.14 126.519 15.65 125.579 16.67C124.639 17.69 124.169 19.12 124.169 20.96V29H122.039V13.22H124.079V16.31ZM139.337 13.1C141.397 13.1 142.977 13.62 144.077 14.66C145.177 15.68 145.727 17.2 145.727 19.22V29H143.687V26.54C143.207 27.36 142.497 28 141.557 28.46C140.637 28.92 139.537 29.15 138.257 29.15C136.497 29.15 135.097 28.73 134.057 27.89C133.017 27.05 132.497 25.94 132.497 24.56C132.497 23.22 132.977 22.14 133.937 21.32C134.917 20.5 136.467 20.09 138.587 20.09H143.597V19.13C143.597 17.77 143.217 16.74 142.457 16.04C141.697 15.32 140.587 14.96 139.127 14.96C138.127 14.96 137.167 15.13 136.247 15.47C135.327 15.79 134.537 16.24 133.877 16.82L132.917 15.23C133.717 14.55 134.677 14.03 135.797 13.67C136.917 13.29 138.097 13.1 139.337 13.1ZM138.587 27.47C139.787 27.47 140.817 27.2 141.677 26.66C142.537 26.1 143.177 25.3 143.597 24.26V21.68H138.647C135.947 21.68 134.597 22.62 134.597 24.5C134.597 25.42 134.947 26.15 135.647 26.69C136.347 27.21 137.327 27.47 138.587 27.47ZM151.512 13.22H153.642V29H151.512V13.22ZM152.592 9.77C152.152 9.77 151.782 9.62 151.482 9.32C151.182 9.02 151.032 8.66 151.032 8.24C151.032 7.84 151.182 7.49 151.482 7.19C151.782 6.89 152.152 6.74 152.592 6.74C153.032 6.74 153.402 6.89 153.702 7.19C154.002 7.47 154.152 7.81 154.152 8.21C154.152 8.65 154.002 9.02 153.702 9.32C153.402 9.62 153.032 9.77 152.592 9.77ZM167.609 13.1C169.589 13.1 171.159 13.68 172.319 14.84C173.499 15.98 174.089 17.65 174.089 19.85V29H171.959V20.06C171.959 18.42 171.549 17.17 170.729 16.31C169.909 15.45 168.739 15.02 167.219 15.02C165.519 15.02 164.169 15.53 163.169 16.55C162.189 17.55 161.699 18.94 161.699 20.72V29H159.569V13.22H161.609V16.13C162.189 15.17 162.989 14.43 164.009 13.91C165.049 13.37 166.249 13.1 167.609 13.1ZM188.181 28.04C187.781 28.4 187.281 28.68 186.681 28.88C186.101 29.06 185.491 29.15 184.851 29.15C183.371 29.15 182.231 28.75 181.431 27.95C180.631 27.15 180.231 26.02 180.231 24.56V15.02H177.411V13.22H180.231V9.77H182.361V13.22H187.161V15.02H182.361V24.44C182.361 25.38 182.591 26.1 183.051 26.6C183.531 27.08 184.211 27.32 185.091 27.32C185.531 27.32 185.951 27.25 186.351 27.11C186.771 26.97 187.131 26.77 187.431 26.51L188.181 28.04ZM196.289 29.15C195.009 29.15 193.779 28.97 192.599 28.61C191.439 28.23 190.529 27.76 189.869 27.2L190.829 25.52C191.489 26.04 192.319 26.47 193.319 26.81C194.319 27.13 195.359 27.29 196.439 27.29C197.879 27.29 198.939 27.07 199.619 26.63C200.319 26.17 200.669 25.53 200.669 24.71C200.669 24.13 200.479 23.68 200.099 23.36C199.719 23.02 199.239 22.77 198.659 22.61C198.079 22.43 197.309 22.26 196.349 22.1C195.069 21.86 194.039 21.62 193.259 21.38C192.479 21.12 191.809 20.69 191.249 20.09C190.709 19.49 190.439 18.66 190.439 17.6C190.439 16.28 190.989 15.2 192.089 14.36C193.189 13.52 194.719 13.1 196.679 13.1C197.699 13.1 198.719 13.24 199.739 13.52C200.759 13.78 201.599 14.13 202.259 14.57L201.329 16.28C200.029 15.38 198.479 14.93 196.679 14.93C195.319 14.93 194.289 15.17 193.589 15.65C192.909 16.13 192.569 16.76 192.569 17.54C192.569 18.14 192.759 18.62 193.139 18.98C193.539 19.34 194.029 19.61 194.609 19.79C195.189 19.95 195.989 20.12 197.009 20.3C198.269 20.54 199.279 20.78 200.039 21.02C200.799 21.26 201.449 21.67 201.989 22.25C202.529 22.83 202.799 23.63 202.799 24.65C202.799 26.03 202.219 27.13 201.059 27.95C199.919 28.75 198.329 29.15 196.289 29.15Z"\n            transform="translate(51)" fill="#4A4A4A" />\n        <path d="M30.6649 5.688L28.2769 12H27.4729L25.4809 6.828L23.4889 12H22.6849L20.3089 5.688H21.1249L23.1049 11.052L25.1329 5.688H25.8649L27.8809 11.052L29.8849 5.688H30.6649ZM37.268 9.108H31.988C32.036 9.764 32.288 10.296 32.744 10.704C33.2 11.104 33.776 11.304 34.472 11.304C34.864 11.304 35.224 11.236 35.552 11.1C35.88 10.956 36.164 10.748 36.404 10.476L36.884 11.028C36.604 11.364 36.252 11.62 35.828 11.796C35.412 11.972 34.952 12.06 34.448 12.06C33.8 12.06 33.224 11.924 32.72 11.652C32.224 11.372 31.836 10.988 31.556 10.5C31.276 10.012 31.136 9.46 31.136 8.844C31.136 8.228 31.268 7.676 31.532 7.188C31.804 6.7 32.172 6.32 32.636 6.048C33.108 5.776 33.636 5.64 34.22 5.64C34.804 5.64 35.328 5.776 35.792 6.048C36.256 6.32 36.62 6.7 36.884 7.188C37.148 7.668 37.28 8.22 37.28 8.844L37.268 9.108ZM34.22 6.372C33.612 6.372 33.1 6.568 32.684 6.96C32.276 7.344 32.044 7.848 31.988 8.472H36.464C36.408 7.848 36.172 7.344 35.756 6.96C35.348 6.568 34.836 6.372 34.22 6.372ZM45.3708 5.64C46.1628 5.64 46.7908 5.872 47.2548 6.336C47.7268 6.792 47.9628 7.46 47.9628 8.34V12H47.1108V8.424C47.1108 7.768 46.9468 7.268 46.6188 6.924C46.2908 6.58 45.8228 6.408 45.2148 6.408C44.5348 6.408 43.9948 6.612 43.5948 7.02C43.2028 7.42 43.0068 7.976 43.0068 8.688V12H42.1548V3.096H43.0068V6.792C43.2388 6.424 43.5588 6.14 43.9668 5.94C44.3748 5.74 44.8428 5.64 45.3708 5.64ZM52.4839 5.64C53.3079 5.64 53.9399 5.848 54.3799 6.264C54.8199 6.672 55.0399 7.28 55.0399 8.088V12H54.2239V11.016C54.0319 11.344 53.7479 11.6 53.3719 11.784C53.0039 11.968 52.5639 12.06 52.0519 12.06C51.3479 12.06 50.7879 11.892 50.3719 11.556C49.9559 11.22 49.7479 10.776 49.7479 10.224C49.7479 9.688 49.9399 9.256 50.3239 8.928C50.7159 8.6 51.3359 8.436 52.1839 8.436H54.1879V8.052C54.1879 7.508 54.0359 7.096 53.7319 6.816C53.4279 6.528 52.9839 6.384 52.3999 6.384C51.9999 6.384 51.6159 6.452 51.2479 6.588C50.8799 6.716 50.5639 6.896 50.2999 7.128L49.9159 6.492C50.2359 6.22 50.6199 6.012 51.0679 5.868C51.5159 5.716 51.9879 5.64 52.4839 5.64ZM52.1839 11.388C52.6639 11.388 53.0759 11.28 53.4199 11.064C53.7639 10.84 54.0199 10.52 54.1879 10.104V9.072H52.2079C51.1279 9.072 50.5879 9.448 50.5879 10.2C50.5879 10.568 50.7279 10.86 51.0079 11.076C51.2879 11.284 51.6799 11.388 52.1839 11.388ZM62.5408 5.688L59.7328 12H58.8568L56.0608 5.688H56.9488L59.3128 11.064L61.7008 5.688H62.5408ZM69.061 9.108H63.781C63.829 9.764 64.081 10.296 64.537 10.704C64.993 11.104 65.569 11.304 66.265 11.304C66.657 11.304 67.017 11.236 67.345 11.1C67.673 10.956 67.957 10.748 68.197 10.476L68.677 11.028C68.397 11.364 68.045 11.62 67.621 11.796C67.205 11.972 66.745 12.06 66.241 12.06C65.593 12.06 65.017 11.924 64.513 11.652C64.017 11.372 63.629 10.988 63.349 10.5C63.069 10.012 62.929 9.46 62.929 8.844C62.929 8.228 63.061 7.676 63.325 7.188C63.597 6.7 63.965 6.32 64.429 6.048C64.901 5.776 65.429 5.64 66.013 5.64C66.597 5.64 67.121 5.776 67.585 6.048C68.049 6.32 68.413 6.7 68.677 7.188C68.941 7.668 69.073 8.22 69.073 8.844L69.061 9.108ZM66.013 6.372C65.405 6.372 64.893 6.568 64.477 6.96C64.069 7.344 63.837 7.848 63.781 8.472H68.257C68.201 7.848 67.965 7.344 67.549 6.96C67.141 6.568 66.629 6.372 66.013 6.372ZM77.1638 5.64C77.9558 5.64 78.5838 5.872 79.0478 6.336C79.5198 6.792 79.7558 7.46 79.7558 8.34V12H78.9038V8.424C78.9038 7.768 78.7398 7.268 78.4118 6.924C78.0838 6.58 77.6158 6.408 77.0078 6.408C76.3278 6.408 75.7878 6.612 75.3878 7.02C74.9958 7.42 74.7998 7.976 74.7998 8.688V12H73.9478V5.688H74.7638V6.852C74.9958 6.468 75.3158 6.172 75.7238 5.964C76.1398 5.748 76.6198 5.64 77.1638 5.64ZM84.6723 12.06C84.0643 12.06 83.5163 11.924 83.0283 11.652C82.5403 11.372 82.1563 10.988 81.8763 10.5C81.5963 10.012 81.4563 9.46 81.4563 8.844C81.4563 8.228 81.5963 7.676 81.8763 7.188C82.1563 6.7 82.5403 6.32 83.0283 6.048C83.5163 5.776 84.0643 5.64 84.6723 5.64C85.2803 5.64 85.8283 5.776 86.3163 6.048C86.8043 6.32 87.1843 6.7 87.4563 7.188C87.7363 7.676 87.8763 8.228 87.8763 8.844C87.8763 9.46 87.7363 10.012 87.4563 10.5C87.1843 10.988 86.8043 11.372 86.3163 11.652C85.8283 11.924 85.2803 12.06 84.6723 12.06ZM84.6723 11.304C85.1203 11.304 85.5203 11.204 85.8723 11.004C86.2323 10.796 86.5123 10.504 86.7123 10.128C86.9123 9.752 87.0123 9.324 87.0123 8.844C87.0123 8.364 86.9123 7.936 86.7123 7.56C86.5123 7.184 86.2323 6.896 85.8723 6.696C85.5203 6.488 85.1203 6.384 84.6723 6.384C84.2243 6.384 83.8203 6.488 83.4603 6.696C83.1083 6.896 82.8283 7.184 82.6203 7.56C82.4203 7.936 82.3203 8.364 82.3203 8.844C82.3203 9.324 82.4203 9.752 82.6203 10.128C82.8283 10.504 83.1083 10.796 83.4603 11.004C83.8203 11.204 84.2243 11.304 84.6723 11.304ZM93.5724 6.924C93.7724 6.5 94.0684 6.18 94.4604 5.964C94.8604 5.748 95.3524 5.64 95.9364 5.64V6.468L95.7324 6.456C95.0684 6.456 94.5484 6.66 94.1724 7.068C93.7964 7.476 93.6084 8.048 93.6084 8.784V12H92.7564V5.688H93.5724V6.924ZM100 12.06C99.3924 12.06 98.8444 11.924 98.3564 11.652C97.8684 11.372 97.4844 10.988 97.2044 10.5C96.9244 10.012 96.7844 9.46 96.7844 8.844C96.7844 8.228 96.9244 7.676 97.2044 7.188C97.4844 6.7 97.8684 6.32 98.3564 6.048C98.8444 5.776 99.3924 5.64 100 5.64C100.608 5.64 101.156 5.776 101.644 6.048C102.132 6.32 102.512 6.7 102.784 7.188C103.064 7.676 103.204 8.228 103.204 8.844C103.204 9.46 103.064 10.012 102.784 10.5C102.512 10.988 102.132 11.372 101.644 11.652C101.156 11.924 100.608 12.06 100 12.06ZM100 11.304C100.448 11.304 100.848 11.204 101.2 11.004C101.56 10.796 101.84 10.504 102.04 10.128C102.24 9.752 102.34 9.324 102.34 8.844C102.34 8.364 102.24 7.936 102.04 7.56C101.84 7.184 101.56 6.896 101.2 6.696C100.848 6.488 100.448 6.384 100 6.384C99.5524 6.384 99.1484 6.488 98.7884 6.696C98.4364 6.896 98.1564 7.184 97.9484 7.56C97.7484 7.936 97.6484 8.364 97.6484 8.844C97.6484 9.324 97.7484 9.752 97.9484 10.128C98.1564 10.504 98.4364 10.796 98.7884 11.004C99.1484 11.204 99.5524 11.304 100 11.304ZM107.524 12.06C106.916 12.06 106.368 11.924 105.88 11.652C105.392 11.372 105.008 10.988 104.728 10.5C104.448 10.012 104.308 9.46 104.308 8.844C104.308 8.228 104.448 7.676 104.728 7.188C105.008 6.7 105.392 6.32 105.88 6.048C106.368 5.776 106.916 5.64 107.524 5.64C108.132 5.64 108.68 5.776 109.168 6.048C109.656 6.32 110.036 6.7 110.308 7.188C110.588 7.676 110.728 8.228 110.728 8.844C110.728 9.46 110.588 10.012 110.308 10.5C110.036 10.988 109.656 11.372 109.168 11.652C108.68 11.924 108.132 12.06 107.524 12.06ZM107.524 11.304C107.972 11.304 108.372 11.204 108.724 11.004C109.084 10.796 109.364 10.504 109.564 10.128C109.764 9.752 109.864 9.324 109.864 8.844C109.864 8.364 109.764 7.936 109.564 7.56C109.364 7.184 109.084 6.896 108.724 6.696C108.372 6.488 107.972 6.384 107.524 6.384C107.076 6.384 106.672 6.488 106.312 6.696C105.96 6.896 105.68 7.184 105.472 7.56C105.272 7.936 105.172 8.364 105.172 8.844C105.172 9.324 105.272 9.752 105.472 10.128C105.68 10.504 105.96 10.796 106.312 11.004C106.672 11.204 107.076 11.304 107.524 11.304ZM120.339 5.64C121.131 5.64 121.751 5.868 122.199 6.324C122.655 6.78 122.883 7.452 122.883 8.34V12H122.031V8.424C122.031 7.768 121.871 7.268 121.551 6.924C121.239 6.58 120.795 6.408 120.219 6.408C119.563 6.408 119.047 6.612 118.671 7.02C118.295 7.42 118.107 7.976 118.107 8.688V12H117.255V8.424C117.255 7.768 117.095 7.268 116.775 6.924C116.463 6.58 116.015 6.408 115.431 6.408C114.783 6.408 114.267 6.612 113.883 7.02C113.507 7.42 113.319 7.976 113.319 8.688V12H112.467V5.688H113.283V6.84C113.507 6.456 113.819 6.16 114.219 5.952C114.619 5.744 115.079 5.64 115.599 5.64C116.127 5.64 116.583 5.752 116.967 5.976C117.359 6.2 117.651 6.532 117.843 6.972C118.075 6.556 118.407 6.232 118.839 6C119.279 5.76 119.779 5.64 120.339 5.64ZM130.422 3.756C130.054 3.756 129.774 3.856 129.582 4.056C129.398 4.256 129.306 4.552 129.306 4.944V5.688H131.25V6.408H129.33V12H128.478V6.408H127.35V5.688H128.478V4.908C128.478 4.332 128.642 3.876 128.97 3.54C129.306 3.204 129.778 3.036 130.386 3.036C130.626 3.036 130.858 3.072 131.082 3.144C131.306 3.208 131.494 3.304 131.646 3.432L131.358 4.068C131.11 3.86 130.798 3.756 130.422 3.756ZM134.875 12.06C134.267 12.06 133.719 11.924 133.231 11.652C132.743 11.372 132.359 10.988 132.079 10.5C131.799 10.012 131.659 9.46 131.659 8.844C131.659 8.228 131.799 7.676 132.079 7.188C132.359 6.7 132.743 6.32 133.231 6.048C133.719 5.776 134.267 5.64 134.875 5.64C135.483 5.64 136.031 5.776 136.519 6.048C137.007 6.32 137.387 6.7 137.659 7.188C137.939 7.676 138.079 8.228 138.079 8.844C138.079 9.46 137.939 10.012 137.659 10.5C137.387 10.988 137.007 11.372 136.519 11.652C136.031 11.924 135.483 12.06 134.875 12.06ZM134.875 11.304C135.323 11.304 135.723 11.204 136.075 11.004C136.435 10.796 136.715 10.504 136.915 10.128C137.115 9.752 137.215 9.324 137.215 8.844C137.215 8.364 137.115 7.936 136.915 7.56C136.715 7.184 136.435 6.896 136.075 6.696C135.723 6.488 135.323 6.384 134.875 6.384C134.427 6.384 134.023 6.488 133.663 6.696C133.311 6.896 133.031 7.184 132.823 7.56C132.623 7.936 132.523 8.364 132.523 8.844C132.523 9.324 132.623 9.752 132.823 10.128C133.031 10.504 133.311 10.796 133.663 11.004C134.023 11.204 134.427 11.304 134.875 11.304ZM140.635 6.924C140.835 6.5 141.131 6.18 141.523 5.964C141.923 5.748 142.415 5.64 142.999 5.64V6.468L142.795 6.456C142.131 6.456 141.611 6.66 141.235 7.068C140.859 7.476 140.671 8.048 140.671 8.784V12H139.819V5.688H140.635V6.924ZM155.648 5.64C156.44 5.64 157.06 5.868 157.508 6.324C157.964 6.78 158.192 7.452 158.192 8.34V12H157.34V8.424C157.34 7.768 157.18 7.268 156.86 6.924C156.548 6.58 156.104 6.408 155.528 6.408C154.872 6.408 154.356 6.612 153.98 7.02C153.604 7.42 153.416 7.976 153.416 8.688V12H152.564V8.424C152.564 7.768 152.404 7.268 152.084 6.924C151.772 6.58 151.324 6.408 150.74 6.408C150.092 6.408 149.576 6.612 149.192 7.02C148.816 7.42 148.628 7.976 148.628 8.688V12H147.776V5.688H148.592V6.84C148.816 6.456 149.128 6.16 149.528 5.952C149.928 5.744 150.388 5.64 150.908 5.64C151.436 5.64 151.892 5.752 152.276 5.976C152.668 6.2 152.96 6.532 153.152 6.972C153.384 6.556 153.716 6.232 154.148 6C154.588 5.76 155.088 5.64 155.648 5.64ZM162.71 5.64C163.534 5.64 164.166 5.848 164.606 6.264C165.046 6.672 165.266 7.28 165.266 8.088V12H164.45V11.016C164.258 11.344 163.974 11.6 163.598 11.784C163.23 11.968 162.79 12.06 162.278 12.06C161.574 12.06 161.014 11.892 160.598 11.556C160.182 11.22 159.974 10.776 159.974 10.224C159.974 9.688 160.166 9.256 160.55 8.928C160.942 8.6 161.562 8.436 162.41 8.436H164.414V8.052C164.414 7.508 164.262 7.096 163.958 6.816C163.654 6.528 163.21 6.384 162.626 6.384C162.226 6.384 161.842 6.452 161.474 6.588C161.106 6.716 160.79 6.896 160.526 7.128L160.142 6.492C160.462 6.22 160.846 6.012 161.294 5.868C161.742 5.716 162.214 5.64 162.71 5.64ZM162.41 11.388C162.89 11.388 163.302 11.28 163.646 11.064C163.99 10.84 164.246 10.52 164.414 10.104V9.072H162.434C161.354 9.072 160.814 9.448 160.814 10.2C160.814 10.568 160.954 10.86 161.234 11.076C161.514 11.284 161.906 11.388 162.41 11.388ZM170.797 5.64C171.589 5.64 172.217 5.872 172.681 6.336C173.153 6.792 173.389 7.46 173.389 8.34V12H172.537V8.424C172.537 7.768 172.373 7.268 172.045 6.924C171.717 6.58 171.249 6.408 170.641 6.408C169.961 6.408 169.421 6.612 169.021 7.02C168.629 7.42 168.433 7.976 168.433 8.688V12H167.581V5.688H168.397V6.852C168.629 6.468 168.949 6.172 169.357 5.964C169.773 5.748 170.253 5.64 170.797 5.64ZM178.305 12.06C177.697 12.06 177.149 11.924 176.661 11.652C176.173 11.372 175.789 10.988 175.509 10.5C175.229 10.012 175.089 9.46 175.089 8.844C175.089 8.228 175.229 7.676 175.509 7.188C175.789 6.7 176.173 6.32 176.661 6.048C177.149 5.776 177.697 5.64 178.305 5.64C178.913 5.64 179.461 5.776 179.949 6.048C180.437 6.32 180.817 6.7 181.089 7.188C181.369 7.676 181.509 8.228 181.509 8.844C181.509 9.46 181.369 10.012 181.089 10.5C180.817 10.988 180.437 11.372 179.949 11.652C179.461 11.924 178.913 12.06 178.305 12.06ZM178.305 11.304C178.753 11.304 179.153 11.204 179.505 11.004C179.865 10.796 180.145 10.504 180.345 10.128C180.545 9.752 180.645 9.324 180.645 8.844C180.645 8.364 180.545 7.936 180.345 7.56C180.145 7.184 179.865 6.896 179.505 6.696C179.153 6.488 178.753 6.384 178.305 6.384C177.857 6.384 177.453 6.488 177.093 6.696C176.741 6.896 176.461 7.184 176.253 7.56C176.053 7.936 175.953 8.364 175.953 8.844C175.953 9.324 176.053 9.752 176.253 10.128C176.461 10.504 176.741 10.796 177.093 11.004C177.453 11.204 177.857 11.304 178.305 11.304ZM188.745 9.108H183.465C183.513 9.764 183.765 10.296 184.221 10.704C184.677 11.104 185.253 11.304 185.949 11.304C186.341 11.304 186.701 11.236 187.029 11.1C187.357 10.956 187.641 10.748 187.881 10.476L188.361 11.028C188.081 11.364 187.729 11.62 187.305 11.796C186.889 11.972 186.429 12.06 185.925 12.06C185.277 12.06 184.701 11.924 184.197 11.652C183.701 11.372 183.313 10.988 183.033 10.5C182.753 10.012 182.613 9.46 182.613 8.844C182.613 8.228 182.745 7.676 183.009 7.188C183.281 6.7 183.649 6.32 184.113 6.048C184.585 5.776 185.113 5.64 185.697 5.64C186.281 5.64 186.805 5.776 187.269 6.048C187.733 6.32 188.097 6.7 188.361 7.188C188.625 7.668 188.757 8.22 188.757 8.844L188.745 9.108ZM185.697 6.372C185.089 6.372 184.577 6.568 184.161 6.96C183.753 7.344 183.521 7.848 183.465 8.472H187.941C187.885 7.848 187.649 7.344 187.233 6.96C186.825 6.568 186.313 6.372 185.697 6.372ZM196.179 5.688V12H195.363V10.848C195.139 11.232 194.831 11.532 194.439 11.748C194.047 11.956 193.599 12.06 193.095 12.06C192.271 12.06 191.619 11.832 191.139 11.376C190.667 10.912 190.431 10.236 190.431 9.348V5.688H191.283V9.264C191.283 9.928 191.447 10.432 191.775 10.776C192.103 11.12 192.571 11.292 193.179 11.292C193.843 11.292 194.367 11.092 194.751 10.692C195.135 10.284 195.327 9.72 195.327 9V5.688H196.179ZM203.869 5.688L201.061 12H200.185L197.389 5.688H198.277L200.641 11.064L203.029 5.688H203.869ZM205.885 6.924C206.085 6.5 206.381 6.18 206.773 5.964C207.173 5.748 207.665 5.64 208.249 5.64V6.468L208.045 6.456C207.381 6.456 206.861 6.66 206.485 7.068C206.109 7.476 205.921 8.048 205.921 8.784V12H205.069V5.688H205.885V6.924ZM215.229 9.108H209.949C209.997 9.764 210.249 10.296 210.705 10.704C211.161 11.104 211.737 11.304 212.433 11.304C212.825 11.304 213.185 11.236 213.513 11.1C213.841 10.956 214.125 10.748 214.365 10.476L214.845 11.028C214.565 11.364 214.213 11.62 213.789 11.796C213.373 11.972 212.913 12.06 212.409 12.06C211.761 12.06 211.185 11.924 210.681 11.652C210.185 11.372 209.797 10.988 209.517 10.5C209.237 10.012 209.097 9.46 209.097 8.844C209.097 8.228 209.229 7.676 209.493 7.188C209.765 6.7 210.133 6.32 210.597 6.048C211.069 5.776 211.597 5.64 212.181 5.64C212.765 5.64 213.289 5.776 213.753 6.048C214.217 6.32 214.581 6.7 214.845 7.188C215.109 7.668 215.241 8.22 215.241 8.844L215.229 9.108ZM212.181 6.372C211.573 6.372 211.061 6.568 210.645 6.96C210.237 7.344 210.005 7.848 209.949 8.472H214.425C214.369 7.848 214.133 7.344 213.717 6.96C213.309 6.568 212.797 6.372 212.181 6.372Z"\n            transform="translate(51 33)" fill="#4A4A4A" />\n        <path d="M19.7743 5.688L17.3863 12H16.5823L14.5903 6.828L12.5983 12H11.7943L9.41827 5.688H10.2343L12.2143 11.052L14.2423 5.688H14.9743L16.9903 11.052L18.9943 5.688H19.7743ZM26.3774 9.108H21.0974C21.1454 9.764 21.3974 10.296 21.8534 10.704C22.3094 11.104 22.8854 11.304 23.5814 11.304C23.9734 11.304 24.3334 11.236 24.6614 11.1C24.9894 10.956 25.2734 10.748 25.5134 10.476L25.9934 11.028C25.7134 11.364 25.3614 11.62 24.9374 11.796C24.5214 11.972 24.0614 12.06 23.5574 12.06C22.9094 12.06 22.3334 11.924 21.8294 11.652C21.3334 11.372 20.9454 10.988 20.6654 10.5C20.3854 10.012 20.2454 9.46 20.2454 8.844C20.2454 8.228 20.3774 7.676 20.6414 7.188C20.9134 6.7 21.2814 6.32 21.7454 6.048C22.2174 5.776 22.7454 5.64 23.3294 5.64C23.9134 5.64 24.4374 5.776 24.9014 6.048C25.3654 6.32 25.7294 6.7 25.9934 7.188C26.2574 7.668 26.3894 8.22 26.3894 8.844L26.3774 9.108ZM23.3294 6.372C22.7214 6.372 22.2094 6.568 21.7934 6.96C21.3854 7.344 21.1534 7.848 21.0974 8.472H25.5734C25.5174 7.848 25.2814 7.344 24.8654 6.96C24.4574 6.568 23.9454 6.372 23.3294 6.372ZM33.8802 12.06C33.2562 12.06 32.6962 11.924 32.2002 11.652C31.7122 11.38 31.3282 11 31.0482 10.512C30.7682 10.016 30.6282 9.46 30.6282 8.844C30.6282 8.228 30.7682 7.676 31.0482 7.188C31.3282 6.7 31.7122 6.32 32.2002 6.048C32.6962 5.776 33.2562 5.64 33.8802 5.64C34.4242 5.64 34.9082 5.748 35.3322 5.964C35.7642 6.172 36.1042 6.48 36.3522 6.888L35.7162 7.32C35.5082 7.008 35.2442 6.776 34.9242 6.624C34.6042 6.464 34.2562 6.384 33.8802 6.384C33.4242 6.384 33.0122 6.488 32.6442 6.696C32.2842 6.896 32.0002 7.184 31.7922 7.56C31.5922 7.936 31.4922 8.364 31.4922 8.844C31.4922 9.332 31.5922 9.764 31.7922 10.14C32.0002 10.508 32.2842 10.796 32.6442 11.004C33.0122 11.204 33.4242 11.304 33.8802 11.304C34.2562 11.304 34.6042 11.228 34.9242 11.076C35.2442 10.924 35.5082 10.692 35.7162 10.38L36.3522 10.812C36.1042 11.22 35.7642 11.532 35.3322 11.748C34.9002 11.956 34.4162 12.06 33.8802 12.06ZM40.2339 5.64C41.0579 5.64 41.6899 5.848 42.1299 6.264C42.5699 6.672 42.7899 7.28 42.7899 8.088V12H41.9739V11.016C41.7819 11.344 41.4979 11.6 41.1219 11.784C40.7539 11.968 40.3139 12.06 39.8019 12.06C39.0979 12.06 38.5379 11.892 38.1219 11.556C37.7059 11.22 37.4979 10.776 37.4979 10.224C37.4979 9.688 37.6899 9.256 38.0739 8.928C38.4659 8.6 39.0859 8.436 39.9339 8.436H41.9379V8.052C41.9379 7.508 41.7859 7.096 41.4819 6.816C41.1779 6.528 40.7339 6.384 40.1499 6.384C39.7499 6.384 39.3659 6.452 38.9979 6.588C38.6299 6.716 38.3139 6.896 38.0499 7.128L37.6659 6.492C37.9859 6.22 38.3699 6.012 38.8179 5.868C39.2659 5.716 39.7379 5.64 40.2339 5.64ZM39.9339 11.388C40.4139 11.388 40.8259 11.28 41.1699 11.064C41.5139 10.84 41.7699 10.52 41.9379 10.104V9.072H39.9579C38.8779 9.072 38.3379 9.448 38.3379 10.2C38.3379 10.568 38.4779 10.86 38.7579 11.076C39.0379 11.284 39.4299 11.388 39.9339 11.388ZM48.32 5.64C49.112 5.64 49.74 5.872 50.204 6.336C50.676 6.792 50.912 7.46 50.912 8.34V12H50.06V8.424C50.06 7.768 49.896 7.268 49.568 6.924C49.24 6.58 48.772 6.408 48.164 6.408C47.484 6.408 46.944 6.612 46.544 7.02C46.152 7.42 45.956 7.976 45.956 8.688V12H45.104V5.688H45.92V6.852C46.152 6.468 46.472 6.172 46.88 5.964C47.296 5.748 47.776 5.64 48.32 5.64ZM58.0577 12.06C57.5457 12.06 57.0537 11.988 56.5817 11.844C56.1177 11.692 55.7537 11.504 55.4897 11.28L55.8737 10.608C56.1377 10.816 56.4697 10.988 56.8697 11.124C57.2697 11.252 57.6857 11.316 58.1177 11.316C58.6937 11.316 59.1177 11.228 59.3897 11.052C59.6697 10.868 59.8097 10.612 59.8097 10.284C59.8097 10.052 59.7337 9.872 59.5817 9.744C59.4297 9.608 59.2377 9.508 59.0057 9.444C58.7737 9.372 58.4657 9.304 58.0817 9.24C57.5697 9.144 57.1577 9.048 56.8457 8.952C56.5337 8.848 56.2657 8.676 56.0417 8.436C55.8257 8.196 55.7177 7.864 55.7177 7.44C55.7177 6.912 55.9377 6.48 56.3777 6.144C56.8177 5.808 57.4297 5.64 58.2137 5.64C58.6217 5.64 59.0297 5.696 59.4377 5.808C59.8457 5.912 60.1817 6.052 60.4457 6.228L60.0737 6.912C59.5537 6.552 58.9337 6.372 58.2137 6.372C57.6697 6.372 57.2577 6.468 56.9777 6.66C56.7057 6.852 56.5697 7.104 56.5697 7.416C56.5697 7.656 56.6457 7.848 56.7977 7.992C56.9577 8.136 57.1537 8.244 57.3857 8.316C57.6177 8.38 57.9377 8.448 58.3457 8.52C58.8497 8.616 59.2537 8.712 59.5577 8.808C59.8617 8.904 60.1217 9.068 60.3377 9.3C60.5537 9.532 60.6617 9.852 60.6617 10.26C60.6617 10.812 60.4297 11.252 59.9657 11.58C59.5097 11.9 58.8737 12.06 58.0577 12.06ZM64.4448 5.64C65.2688 5.64 65.9008 5.848 66.3408 6.264C66.7808 6.672 67.0008 7.28 67.0008 8.088V12H66.1848V11.016C65.9928 11.344 65.7088 11.6 65.3328 11.784C64.9648 11.968 64.5248 12.06 64.0128 12.06C63.3088 12.06 62.7488 11.892 62.3328 11.556C61.9168 11.22 61.7088 10.776 61.7088 10.224C61.7088 9.688 61.9008 9.256 62.2848 8.928C62.6768 8.6 63.2968 8.436 64.1448 8.436H66.1488V8.052C66.1488 7.508 65.9968 7.096 65.6928 6.816C65.3888 6.528 64.9448 6.384 64.3608 6.384C63.9608 6.384 63.5768 6.452 63.2088 6.588C62.8408 6.716 62.5248 6.896 62.2608 7.128L61.8768 6.492C62.1968 6.22 62.5808 6.012 63.0288 5.868C63.4768 5.716 63.9488 5.64 64.4448 5.64ZM64.1448 11.388C64.6248 11.388 65.0368 11.28 65.3808 11.064C65.7248 10.84 65.9808 10.52 66.1488 10.104V9.072H64.1688C63.0888 9.072 62.5488 9.448 62.5488 10.2C62.5488 10.568 62.6888 10.86 62.9688 11.076C63.2488 11.284 63.6408 11.388 64.1448 11.388ZM71.9544 12.06C71.3304 12.06 70.7704 11.924 70.2744 11.652C69.7864 11.38 69.4024 11 69.1224 10.512C68.8424 10.016 68.7024 9.46 68.7024 8.844C68.7024 8.228 68.8424 7.676 69.1224 7.188C69.4024 6.7 69.7864 6.32 70.2744 6.048C70.7704 5.776 71.3304 5.64 71.9544 5.64C72.4984 5.64 72.9824 5.748 73.4064 5.964C73.8384 6.172 74.1784 6.48 74.4264 6.888L73.7904 7.32C73.5824 7.008 73.3184 6.776 72.9984 6.624C72.6784 6.464 72.3304 6.384 71.9544 6.384C71.4984 6.384 71.0864 6.488 70.7184 6.696C70.3584 6.896 70.0744 7.184 69.8664 7.56C69.6664 7.936 69.5664 8.364 69.5664 8.844C69.5664 9.332 69.6664 9.764 69.8664 10.14C70.0744 10.508 70.3584 10.796 70.7184 11.004C71.0864 11.204 71.4984 11.304 71.9544 11.304C72.3304 11.304 72.6784 11.228 72.9984 11.076C73.3184 10.924 73.5824 10.692 73.7904 10.38L74.4264 10.812C74.1784 11.22 73.8384 11.532 73.4064 11.748C72.9744 11.956 72.4904 12.06 71.9544 12.06ZM76.9161 6.924C77.1161 6.5 77.4121 6.18 77.8041 5.964C78.2041 5.748 78.6961 5.64 79.2801 5.64V6.468L79.0761 6.456C78.4121 6.456 77.8921 6.66 77.5161 7.068C77.1401 7.476 76.9521 8.048 76.9521 8.784V12H76.1001V5.688H76.9161V6.924ZM80.8228 5.688H81.6748V12H80.8228V5.688ZM81.2548 4.308C81.0788 4.308 80.9308 4.248 80.8108 4.128C80.6908 4.008 80.6308 3.864 80.6308 3.696C80.6308 3.536 80.6908 3.396 80.8108 3.276C80.9308 3.156 81.0788 3.096 81.2548 3.096C81.4308 3.096 81.5788 3.156 81.6988 3.276C81.8188 3.388 81.8788 3.524 81.8788 3.684C81.8788 3.86 81.8188 4.008 81.6988 4.128C81.5788 4.248 81.4308 4.308 81.2548 4.308ZM86.1334 3.756C85.7654 3.756 85.4854 3.856 85.2934 4.056C85.1094 4.256 85.0174 4.552 85.0174 4.944V5.688H86.9614V6.408H85.0414V12H84.1894V6.408H83.0614V5.688H84.1894V4.908C84.1894 4.332 84.3534 3.876 84.6814 3.54C85.0174 3.204 85.4894 3.036 86.0974 3.036C86.3374 3.036 86.5694 3.072 86.7934 3.144C87.0174 3.208 87.2054 3.304 87.3574 3.432L87.0694 4.068C86.8214 3.86 86.5094 3.756 86.1334 3.756ZM89.0734 5.688H89.9254V12H89.0734V5.688ZM89.5054 4.308C89.3294 4.308 89.1814 4.248 89.0614 4.128C88.9414 4.008 88.8814 3.864 88.8814 3.696C88.8814 3.536 88.9414 3.396 89.0614 3.276C89.1814 3.156 89.3294 3.096 89.5054 3.096C89.6814 3.096 89.8294 3.156 89.9494 3.276C90.0694 3.388 90.1294 3.524 90.1294 3.684C90.1294 3.86 90.0694 4.008 89.9494 4.128C89.8294 4.248 89.6814 4.308 89.5054 4.308ZM94.9231 12.06C94.2991 12.06 93.7391 11.924 93.2431 11.652C92.7551 11.38 92.3711 11 92.0911 10.512C91.8111 10.016 91.6711 9.46 91.6711 8.844C91.6711 8.228 91.8111 7.676 92.0911 7.188C92.3711 6.7 92.7551 6.32 93.2431 6.048C93.7391 5.776 94.2991 5.64 94.9231 5.64C95.4671 5.64 95.9511 5.748 96.3751 5.964C96.8071 6.172 97.1471 6.48 97.3951 6.888L96.7591 7.32C96.5511 7.008 96.2871 6.776 95.9671 6.624C95.6471 6.464 95.2991 6.384 94.9231 6.384C94.4671 6.384 94.0551 6.488 93.6871 6.696C93.3271 6.896 93.0431 7.184 92.8351 7.56C92.6351 7.936 92.5351 8.364 92.5351 8.844C92.5351 9.332 92.6351 9.764 92.8351 10.14C93.0431 10.508 93.3271 10.796 93.6871 11.004C94.0551 11.204 94.4671 11.304 94.9231 11.304C95.2991 11.304 95.6471 11.228 95.9671 11.076C96.2871 10.924 96.5511 10.692 96.7591 10.38L97.3951 10.812C97.1471 11.22 96.8071 11.532 96.3751 11.748C95.9431 11.956 95.4591 12.06 94.9231 12.06ZM104.459 9.108H99.1794C99.2274 9.764 99.4794 10.296 99.9354 10.704C100.391 11.104 100.967 11.304 101.663 11.304C102.055 11.304 102.415 11.236 102.743 11.1C103.071 10.956 103.355 10.748 103.595 10.476L104.075 11.028C103.795 11.364 103.443 11.62 103.019 11.796C102.603 11.972 102.143 12.06 101.639 12.06C100.991 12.06 100.415 11.924 99.9114 11.652C99.4154 11.372 99.0274 10.988 98.7474 10.5C98.4674 10.012 98.3274 9.46 98.3274 8.844C98.3274 8.228 98.4594 7.676 98.7234 7.188C98.9954 6.7 99.3634 6.32 99.8274 6.048C100.299 5.776 100.827 5.64 101.411 5.64C101.995 5.64 102.519 5.776 102.983 6.048C103.447 6.32 103.811 6.7 104.075 7.188C104.339 7.668 104.471 8.22 104.471 8.844L104.459 9.108ZM101.411 6.372C100.803 6.372 100.291 6.568 99.8754 6.96C99.4674 7.344 99.2354 7.848 99.1794 8.472H103.655C103.599 7.848 103.363 7.344 102.947 6.96C102.539 6.568 102.027 6.372 101.411 6.372ZM112.67 11.616C112.51 11.76 112.31 11.872 112.07 11.952C111.838 12.024 111.594 12.06 111.338 12.06C110.746 12.06 110.29 11.9 109.97 11.58C109.65 11.26 109.49 10.808 109.49 10.224V6.408H108.362V5.688H109.49V4.308H110.342V5.688H112.262V6.408H110.342V10.176C110.342 10.552 110.434 10.84 110.618 11.04C110.81 11.232 111.082 11.328 111.434 11.328C111.61 11.328 111.778 11.3 111.938 11.244C112.106 11.188 112.25 11.108 112.37 11.004L112.67 11.616ZM117.437 5.64C118.229 5.64 118.857 5.872 119.321 6.336C119.793 6.792 120.029 7.46 120.029 8.34V12H119.177V8.424C119.177 7.768 119.013 7.268 118.685 6.924C118.357 6.58 117.889 6.408 117.281 6.408C116.601 6.408 116.061 6.612 115.661 7.02C115.269 7.42 115.073 7.976 115.073 8.688V12H114.221V3.096H115.073V6.792C115.305 6.424 115.625 6.14 116.033 5.94C116.441 5.74 116.909 5.64 117.437 5.64ZM124.55 5.64C125.374 5.64 126.006 5.848 126.446 6.264C126.886 6.672 127.106 7.28 127.106 8.088V12H126.29V11.016C126.098 11.344 125.814 11.6 125.438 11.784C125.07 11.968 124.63 12.06 124.118 12.06C123.414 12.06 122.854 11.892 122.438 11.556C122.022 11.22 121.814 10.776 121.814 10.224C121.814 9.688 122.006 9.256 122.39 8.928C122.782 8.6 123.402 8.436 124.25 8.436H126.254V8.052C126.254 7.508 126.102 7.096 125.798 6.816C125.494 6.528 125.05 6.384 124.466 6.384C124.066 6.384 123.682 6.452 123.314 6.588C122.946 6.716 122.63 6.896 122.366 7.128L121.982 6.492C122.302 6.22 122.686 6.012 123.134 5.868C123.582 5.716 124.054 5.64 124.55 5.64ZM124.25 11.388C124.73 11.388 125.142 11.28 125.486 11.064C125.83 10.84 126.086 10.52 126.254 10.104V9.072H124.274C123.194 9.072 122.654 9.448 122.654 10.2C122.654 10.568 122.794 10.86 123.074 11.076C123.354 11.284 123.746 11.388 124.25 11.388ZM132.744 11.616C132.584 11.76 132.384 11.872 132.144 11.952C131.912 12.024 131.668 12.06 131.412 12.06C130.82 12.06 130.364 11.9 130.044 11.58C129.724 11.26 129.564 10.808 129.564 10.224V6.408H128.436V5.688H129.564V4.308H130.416V5.688H132.336V6.408H130.416V10.176C130.416 10.552 130.508 10.84 130.692 11.04C130.884 11.232 131.156 11.328 131.508 11.328C131.684 11.328 131.852 11.3 132.012 11.244C132.18 11.188 132.324 11.108 132.444 11.004L132.744 11.616ZM137.436 5.688H138.288V12H137.436V5.688ZM137.868 4.308C137.692 4.308 137.544 4.248 137.424 4.128C137.304 4.008 137.244 3.864 137.244 3.696C137.244 3.536 137.304 3.396 137.424 3.276C137.544 3.156 137.692 3.096 137.868 3.096C138.044 3.096 138.192 3.156 138.312 3.276C138.432 3.388 138.492 3.524 138.492 3.684C138.492 3.86 138.432 4.008 138.312 4.128C138.192 4.248 138.044 4.308 137.868 4.308ZM143.875 5.64C144.667 5.64 145.295 5.872 145.759 6.336C146.231 6.792 146.467 7.46 146.467 8.34V12H145.615V8.424C145.615 7.768 145.451 7.268 145.123 6.924C144.795 6.58 144.327 6.408 143.719 6.408C143.039 6.408 142.499 6.612 142.099 7.02C141.707 7.42 141.511 7.976 141.511 8.688V12H140.659V5.688H141.475V6.852C141.707 6.468 142.027 6.172 142.435 5.964C142.851 5.748 143.331 5.64 143.875 5.64ZM154.5 12.06C153.892 12.06 153.344 11.924 152.856 11.652C152.368 11.372 151.984 10.988 151.704 10.5C151.424 10.012 151.284 9.46 151.284 8.844C151.284 8.228 151.424 7.676 151.704 7.188C151.984 6.7 152.368 6.32 152.856 6.048C153.344 5.776 153.892 5.64 154.5 5.64C155.108 5.64 155.656 5.776 156.144 6.048C156.632 6.32 157.012 6.7 157.284 7.188C157.564 7.676 157.704 8.228 157.704 8.844C157.704 9.46 157.564 10.012 157.284 10.5C157.012 10.988 156.632 11.372 156.144 11.652C155.656 11.924 155.108 12.06 154.5 12.06ZM154.5 11.304C154.948 11.304 155.348 11.204 155.7 11.004C156.06 10.796 156.34 10.504 156.54 10.128C156.74 9.752 156.84 9.324 156.84 8.844C156.84 8.364 156.74 7.936 156.54 7.56C156.34 7.184 156.06 6.896 155.7 6.696C155.348 6.488 154.948 6.384 154.5 6.384C154.052 6.384 153.648 6.488 153.288 6.696C152.936 6.896 152.656 7.184 152.448 7.56C152.248 7.936 152.148 8.364 152.148 8.844C152.148 9.324 152.248 9.752 152.448 10.128C152.656 10.504 152.936 10.796 153.288 11.004C153.648 11.204 154.052 11.304 154.5 11.304ZM160.26 6.924C160.46 6.5 160.756 6.18 161.148 5.964C161.548 5.748 162.04 5.64 162.624 5.64V6.468L162.42 6.456C161.756 6.456 161.236 6.66 160.86 7.068C160.484 7.476 160.296 8.048 160.296 8.784V12H159.444V5.688H160.26V6.924ZM169.868 3.096V12H169.052V10.752C168.796 11.176 168.456 11.5 168.032 11.724C167.616 11.948 167.144 12.06 166.616 12.06C166.024 12.06 165.488 11.924 165.008 11.652C164.528 11.38 164.152 11 163.88 10.512C163.608 10.024 163.472 9.468 163.472 8.844C163.472 8.22 163.608 7.664 163.88 7.176C164.152 6.688 164.528 6.312 165.008 6.048C165.488 5.776 166.024 5.64 166.616 5.64C167.128 5.64 167.588 5.748 167.996 5.964C168.412 6.172 168.752 6.48 169.016 6.888V3.096H169.868ZM166.688 11.304C167.128 11.304 167.524 11.204 167.876 11.004C168.236 10.796 168.516 10.504 168.716 10.128C168.924 9.752 169.028 9.324 169.028 8.844C169.028 8.364 168.924 7.936 168.716 7.56C168.516 7.184 168.236 6.896 167.876 6.696C167.524 6.488 167.128 6.384 166.688 6.384C166.24 6.384 165.836 6.488 165.476 6.696C165.124 6.896 164.844 7.184 164.636 7.56C164.436 7.936 164.336 8.364 164.336 8.844C164.336 9.324 164.436 9.752 164.636 10.128C164.844 10.504 165.124 10.796 165.476 11.004C165.836 11.204 166.24 11.304 166.688 11.304ZM177.737 9.108H172.457C172.505 9.764 172.757 10.296 173.213 10.704C173.669 11.104 174.245 11.304 174.941 11.304C175.333 11.304 175.693 11.236 176.021 11.1C176.349 10.956 176.633 10.748 176.873 10.476L177.353 11.028C177.073 11.364 176.721 11.62 176.297 11.796C175.881 11.972 175.421 12.06 174.917 12.06C174.269 12.06 173.693 11.924 173.189 11.652C172.693 11.372 172.305 10.988 172.025 10.5C171.745 10.012 171.605 9.46 171.605 8.844C171.605 8.228 171.737 7.676 172.001 7.188C172.273 6.7 172.641 6.32 173.105 6.048C173.577 5.776 174.105 5.64 174.689 5.64C175.273 5.64 175.797 5.776 176.261 6.048C176.725 6.32 177.089 6.7 177.353 7.188C177.617 7.668 177.749 8.22 177.749 8.844L177.737 9.108ZM174.689 6.372C174.081 6.372 173.569 6.568 173.153 6.96C172.745 7.344 172.513 7.848 172.457 8.472H176.933C176.877 7.848 176.641 7.344 176.225 6.96C175.817 6.568 175.305 6.372 174.689 6.372ZM180.299 6.924C180.499 6.5 180.795 6.18 181.187 5.964C181.587 5.748 182.079 5.64 182.663 5.64V6.468L182.459 6.456C181.795 6.456 181.275 6.66 180.899 7.068C180.523 7.476 180.335 8.048 180.335 8.784V12H179.483V5.688H180.299V6.924ZM190.764 11.616C190.604 11.76 190.404 11.872 190.164 11.952C189.932 12.024 189.688 12.06 189.432 12.06C188.84 12.06 188.384 11.9 188.064 11.58C187.744 11.26 187.584 10.808 187.584 10.224V6.408H186.456V5.688H187.584V4.308H188.436V5.688H190.356V6.408H188.436V10.176C188.436 10.552 188.528 10.84 188.712 11.04C188.904 11.232 189.176 11.328 189.528 11.328C189.704 11.328 189.872 11.3 190.032 11.244C190.2 11.188 190.344 11.108 190.464 11.004L190.764 11.616ZM194.672 12.06C194.064 12.06 193.516 11.924 193.028 11.652C192.54 11.372 192.156 10.988 191.876 10.5C191.596 10.012 191.456 9.46 191.456 8.844C191.456 8.228 191.596 7.676 191.876 7.188C192.156 6.7 192.54 6.32 193.028 6.048C193.516 5.776 194.064 5.64 194.672 5.64C195.28 5.64 195.828 5.776 196.316 6.048C196.804 6.32 197.184 6.7 197.456 7.188C197.736 7.676 197.876 8.228 197.876 8.844C197.876 9.46 197.736 10.012 197.456 10.5C197.184 10.988 196.804 11.372 196.316 11.652C195.828 11.924 195.28 12.06 194.672 12.06ZM194.672 11.304C195.12 11.304 195.52 11.204 195.872 11.004C196.232 10.796 196.512 10.504 196.712 10.128C196.912 9.752 197.012 9.324 197.012 8.844C197.012 8.364 196.912 7.936 196.712 7.56C196.512 7.184 196.232 6.896 195.872 6.696C195.52 6.488 195.12 6.384 194.672 6.384C194.224 6.384 193.82 6.488 193.46 6.696C193.108 6.896 192.828 7.184 192.62 7.56C192.42 7.936 192.32 8.364 192.32 8.844C192.32 9.324 192.42 9.752 192.62 10.128C192.828 10.504 193.108 10.796 193.46 11.004C193.82 11.204 194.224 11.304 194.672 11.304ZM210.628 5.64C211.42 5.64 212.04 5.868 212.488 6.324C212.944 6.78 213.172 7.452 213.172 8.34V12H212.32V8.424C212.32 7.768 212.16 7.268 211.84 6.924C211.528 6.58 211.084 6.408 210.508 6.408C209.852 6.408 209.336 6.612 208.96 7.02C208.584 7.42 208.396 7.976 208.396 8.688V12H207.544V8.424C207.544 7.768 207.384 7.268 207.064 6.924C206.752 6.58 206.304 6.408 205.72 6.408C205.072 6.408 204.556 6.612 204.172 7.02C203.796 7.42 203.608 7.976 203.608 8.688V12H202.756V5.688H203.572V6.84C203.796 6.456 204.108 6.16 204.508 5.952C204.908 5.744 205.368 5.64 205.888 5.64C206.416 5.64 206.872 5.752 207.256 5.976C207.648 6.2 207.94 6.532 208.132 6.972C208.364 6.556 208.696 6.232 209.128 6C209.568 5.76 210.068 5.64 210.628 5.64ZM221.002 9.108H215.722C215.77 9.764 216.022 10.296 216.478 10.704C216.934 11.104 217.51 11.304 218.206 11.304C218.598 11.304 218.958 11.236 219.286 11.1C219.614 10.956 219.898 10.748 220.138 10.476L220.618 11.028C220.338 11.364 219.986 11.62 219.562 11.796C219.146 11.972 218.686 12.06 218.182 12.06C217.534 12.06 216.958 11.924 216.454 11.652C215.958 11.372 215.57 10.988 215.29 10.5C215.01 10.012 214.87 9.46 214.87 8.844C214.87 8.228 215.002 7.676 215.266 7.188C215.538 6.7 215.906 6.32 216.37 6.048C216.842 5.776 217.37 5.64 217.954 5.64C218.538 5.64 219.062 5.776 219.526 6.048C219.99 6.32 220.354 6.7 220.618 7.188C220.882 7.668 221.014 8.22 221.014 8.844L221.002 9.108ZM217.954 6.372C217.346 6.372 216.834 6.568 216.418 6.96C216.01 7.344 215.778 7.848 215.722 8.472H220.198C220.142 7.848 219.906 7.344 219.49 6.96C219.082 6.568 218.57 6.372 217.954 6.372ZM228.245 9.108H222.965C223.013 9.764 223.265 10.296 223.721 10.704C224.177 11.104 224.753 11.304 225.449 11.304C225.841 11.304 226.201 11.236 226.529 11.1C226.857 10.956 227.141 10.748 227.381 10.476L227.861 11.028C227.581 11.364 227.229 11.62 226.805 11.796C226.389 11.972 225.929 12.06 225.425 12.06C224.777 12.06 224.201 11.924 223.697 11.652C223.201 11.372 222.813 10.988 222.533 10.5C222.253 10.012 222.113 9.46 222.113 8.844C222.113 8.228 222.245 7.676 222.509 7.188C222.781 6.7 223.149 6.32 223.613 6.048C224.085 5.776 224.613 5.64 225.197 5.64C225.781 5.64 226.305 5.776 226.769 6.048C227.233 6.32 227.597 6.7 227.861 7.188C228.125 7.668 228.257 8.22 228.257 8.844L228.245 9.108ZM225.197 6.372C224.589 6.372 224.077 6.568 223.661 6.96C223.253 7.344 223.021 7.848 222.965 8.472H227.441C227.385 7.848 227.149 7.344 226.733 6.96C226.325 6.568 225.813 6.372 225.197 6.372ZM233.315 11.616C233.155 11.76 232.955 11.872 232.715 11.952C232.483 12.024 232.239 12.06 231.983 12.06C231.391 12.06 230.935 11.9 230.615 11.58C230.295 11.26 230.135 10.808 230.135 10.224V6.408H229.007V5.688H230.135V4.308H230.987V5.688H232.907V6.408H230.987V10.176C230.987 10.552 231.079 10.84 231.263 11.04C231.455 11.232 231.727 11.328 232.079 11.328C232.255 11.328 232.423 11.3 232.583 11.244C232.751 11.188 232.895 11.108 233.015 11.004L233.315 11.616ZM80.8479 25.616C80.6879 25.76 80.4879 25.872 80.2479 25.952C80.0159 26.024 79.7719 26.06 79.5159 26.06C78.9239 26.06 78.4679 25.9 78.1479 25.58C77.8279 25.26 77.6679 24.808 77.6679 24.224V20.408H76.5399V19.688H77.6679V18.308H78.5199V19.688H80.4399V20.408H78.5199V24.176C78.5199 24.552 78.6119 24.84 78.7959 25.04C78.9879 25.232 79.2599 25.328 79.6119 25.328C79.7879 25.328 79.9559 25.3 80.1159 25.244C80.2839 25.188 80.4279 25.108 80.5479 25.004L80.8479 25.616ZM85.6149 19.64C86.4069 19.64 87.0349 19.872 87.4989 20.336C87.9709 20.792 88.2069 21.46 88.2069 22.34V26H87.3549V22.424C87.3549 21.768 87.1909 21.268 86.8629 20.924C86.5349 20.58 86.0669 20.408 85.4589 20.408C84.7789 20.408 84.2389 20.612 83.8389 21.02C83.4469 21.42 83.2509 21.976 83.2509 22.688V26H82.3989V17.096H83.2509V20.792C83.4829 20.424 83.8029 20.14 84.2109 19.94C84.6189 19.74 85.0869 19.64 85.6149 19.64ZM96.0395 23.108H90.7595C90.8075 23.764 91.0595 24.296 91.5155 24.704C91.9715 25.104 92.5475 25.304 93.2435 25.304C93.6355 25.304 93.9955 25.236 94.3235 25.1C94.6515 24.956 94.9355 24.748 95.1755 24.476L95.6555 25.028C95.3755 25.364 95.0235 25.62 94.5995 25.796C94.1835 25.972 93.7235 26.06 93.2195 26.06C92.5715 26.06 91.9955 25.924 91.4915 25.652C90.9955 25.372 90.6075 24.988 90.3275 24.5C90.0475 24.012 89.9075 23.46 89.9075 22.844C89.9075 22.228 90.0395 21.676 90.3035 21.188C90.5755 20.7 90.9435 20.32 91.4075 20.048C91.8795 19.776 92.4075 19.64 92.9915 19.64C93.5755 19.64 94.0995 19.776 94.5635 20.048C95.0275 20.32 95.3915 20.7 95.6555 21.188C95.9195 21.668 96.0515 22.22 96.0515 22.844L96.0395 23.108ZM92.9915 20.372C92.3835 20.372 91.8715 20.568 91.4555 20.96C91.0475 21.344 90.8155 21.848 90.7595 22.472H95.2355C95.1795 21.848 94.9435 21.344 94.5275 20.96C94.1195 20.568 93.6075 20.372 92.9915 20.372ZM103.542 26.06C102.918 26.06 102.358 25.924 101.862 25.652C101.374 25.38 100.99 25 100.71 24.512C100.43 24.016 100.29 23.46 100.29 22.844C100.29 22.228 100.43 21.676 100.71 21.188C100.99 20.7 101.374 20.32 101.862 20.048C102.358 19.776 102.918 19.64 103.542 19.64C104.086 19.64 104.57 19.748 104.994 19.964C105.426 20.172 105.766 20.48 106.014 20.888L105.378 21.32C105.17 21.008 104.906 20.776 104.586 20.624C104.266 20.464 103.918 20.384 103.542 20.384C103.086 20.384 102.674 20.488 102.306 20.696C101.946 20.896 101.662 21.184 101.454 21.56C101.254 21.936 101.154 22.364 101.154 22.844C101.154 23.332 101.254 23.764 101.454 24.14C101.662 24.508 101.946 24.796 102.306 25.004C102.674 25.204 103.086 25.304 103.542 25.304C103.918 25.304 104.266 25.228 104.586 25.076C104.906 24.924 105.17 24.692 105.378 24.38L106.014 24.812C105.766 25.22 105.426 25.532 104.994 25.748C104.562 25.956 104.078 26.06 103.542 26.06ZM110.163 26.06C109.555 26.06 109.007 25.924 108.519 25.652C108.031 25.372 107.647 24.988 107.367 24.5C107.087 24.012 106.947 23.46 106.947 22.844C106.947 22.228 107.087 21.676 107.367 21.188C107.647 20.7 108.031 20.32 108.519 20.048C109.007 19.776 109.555 19.64 110.163 19.64C110.771 19.64 111.319 19.776 111.807 20.048C112.295 20.32 112.675 20.7 112.947 21.188C113.227 21.676 113.367 22.228 113.367 22.844C113.367 23.46 113.227 24.012 112.947 24.5C112.675 24.988 112.295 25.372 111.807 25.652C111.319 25.924 110.771 26.06 110.163 26.06ZM110.163 25.304C110.611 25.304 111.011 25.204 111.363 25.004C111.723 24.796 112.003 24.504 112.203 24.128C112.403 23.752 112.503 23.324 112.503 22.844C112.503 22.364 112.403 21.936 112.203 21.56C112.003 21.184 111.723 20.896 111.363 20.696C111.011 20.488 110.611 20.384 110.163 20.384C109.715 20.384 109.311 20.488 108.951 20.696C108.599 20.896 108.319 21.184 108.111 21.56C107.911 21.936 107.811 22.364 107.811 22.844C107.811 23.324 107.911 23.752 108.111 24.128C108.319 24.504 108.599 24.796 108.951 25.004C109.311 25.204 109.715 25.304 110.163 25.304ZM118.322 19.64C119.114 19.64 119.742 19.872 120.206 20.336C120.678 20.792 120.914 21.46 120.914 22.34V26H120.062V22.424C120.062 21.768 119.898 21.268 119.57 20.924C119.242 20.58 118.774 20.408 118.166 20.408C117.486 20.408 116.946 20.612 116.546 21.02C116.154 21.42 115.958 21.976 115.958 22.688V26H115.106V19.688H115.922V20.852C116.154 20.468 116.474 20.172 116.882 19.964C117.298 19.748 117.778 19.64 118.322 19.64ZM124.919 26.06C124.407 26.06 123.915 25.988 123.443 25.844C122.979 25.692 122.615 25.504 122.351 25.28L122.735 24.608C122.999 24.816 123.331 24.988 123.731 25.124C124.131 25.252 124.547 25.316 124.979 25.316C125.555 25.316 125.979 25.228 126.251 25.052C126.531 24.868 126.671 24.612 126.671 24.284C126.671 24.052 126.595 23.872 126.443 23.744C126.291 23.608 126.099 23.508 125.867 23.444C125.635 23.372 125.327 23.304 124.943 23.24C124.431 23.144 124.019 23.048 123.707 22.952C123.395 22.848 123.127 22.676 122.903 22.436C122.687 22.196 122.579 21.864 122.579 21.44C122.579 20.912 122.799 20.48 123.239 20.144C123.679 19.808 124.291 19.64 125.075 19.64C125.483 19.64 125.891 19.696 126.299 19.808C126.707 19.912 127.043 20.052 127.307 20.228L126.935 20.912C126.415 20.552 125.795 20.372 125.075 20.372C124.531 20.372 124.119 20.468 123.839 20.66C123.567 20.852 123.431 21.104 123.431 21.416C123.431 21.656 123.507 21.848 123.659 21.992C123.819 22.136 124.015 22.244 124.247 22.316C124.479 22.38 124.799 22.448 125.207 22.52C125.711 22.616 126.115 22.712 126.419 22.808C126.723 22.904 126.983 23.068 127.199 23.3C127.415 23.532 127.523 23.852 127.523 24.26C127.523 24.812 127.291 25.252 126.827 25.58C126.371 25.9 125.735 26.06 124.919 26.06ZM132.422 25.616C132.262 25.76 132.062 25.872 131.822 25.952C131.59 26.024 131.346 26.06 131.09 26.06C130.498 26.06 130.042 25.9 129.722 25.58C129.402 25.26 129.242 24.808 129.242 24.224V20.408H128.114V19.688H129.242V18.308H130.094V19.688H132.014V20.408H130.094V24.176C130.094 24.552 130.186 24.84 130.37 25.04C130.562 25.232 130.834 25.328 131.186 25.328C131.362 25.328 131.53 25.3 131.69 25.244C131.858 25.188 132.002 25.108 132.122 25.004L132.422 25.616ZM134.789 20.924C134.989 20.5 135.285 20.18 135.677 19.964C136.077 19.748 136.569 19.64 137.153 19.64V20.468L136.949 20.456C136.285 20.456 135.765 20.66 135.389 21.068C135.013 21.476 134.825 22.048 134.825 22.784V26H133.973V19.688H134.789V20.924ZM140.892 19.64C141.716 19.64 142.348 19.848 142.788 20.264C143.228 20.672 143.448 21.28 143.448 22.088V26H142.632V25.016C142.44 25.344 142.156 25.6 141.78 25.784C141.412 25.968 140.972 26.06 140.46 26.06C139.756 26.06 139.196 25.892 138.78 25.556C138.364 25.22 138.156 24.776 138.156 24.224C138.156 23.688 138.348 23.256 138.732 22.928C139.124 22.6 139.744 22.436 140.592 22.436H142.596V22.052C142.596 21.508 142.444 21.096 142.14 20.816C141.836 20.528 141.392 20.384 140.808 20.384C140.408 20.384 140.024 20.452 139.656 20.588C139.288 20.716 138.972 20.896 138.708 21.128L138.324 20.492C138.644 20.22 139.028 20.012 139.476 19.868C139.924 19.716 140.396 19.64 140.892 19.64ZM140.592 25.388C141.072 25.388 141.484 25.28 141.828 25.064C142.172 24.84 142.428 24.52 142.596 24.104V23.072H140.616C139.536 23.072 138.996 23.448 138.996 24.2C138.996 24.568 139.136 24.86 139.416 25.076C139.696 25.284 140.088 25.388 140.592 25.388ZM145.762 19.688H146.614V26H145.762V19.688ZM146.194 18.308C146.018 18.308 145.87 18.248 145.75 18.128C145.63 18.008 145.57 17.864 145.57 17.696C145.57 17.536 145.63 17.396 145.75 17.276C145.87 17.156 146.018 17.096 146.194 17.096C146.37 17.096 146.518 17.156 146.638 17.276C146.758 17.388 146.818 17.524 146.818 17.684C146.818 17.86 146.758 18.008 146.638 18.128C146.518 18.248 146.37 18.308 146.194 18.308ZM152.201 19.64C152.993 19.64 153.621 19.872 154.085 20.336C154.557 20.792 154.793 21.46 154.793 22.34V26H153.941V22.424C153.941 21.768 153.777 21.268 153.449 20.924C153.121 20.58 152.653 20.408 152.045 20.408C151.365 20.408 150.825 20.612 150.425 21.02C150.033 21.42 149.837 21.976 149.837 22.688V26H148.985V19.688H149.801V20.852C150.033 20.468 150.353 20.172 150.761 19.964C151.177 19.748 151.657 19.64 152.201 19.64ZM160.43 25.616C160.27 25.76 160.07 25.872 159.83 25.952C159.598 26.024 159.354 26.06 159.098 26.06C158.506 26.06 158.05 25.9 157.73 25.58C157.41 25.26 157.25 24.808 157.25 24.224V20.408H156.122V19.688H157.25V18.308H158.102V19.688H160.022V20.408H158.102V24.176C158.102 24.552 158.194 24.84 158.378 25.04C158.57 25.232 158.842 25.328 159.194 25.328C159.37 25.328 159.538 25.3 159.698 25.244C159.866 25.188 160.01 25.108 160.13 25.004L160.43 25.616ZM163.673 26.06C163.161 26.06 162.669 25.988 162.197 25.844C161.733 25.692 161.369 25.504 161.105 25.28L161.489 24.608C161.753 24.816 162.085 24.988 162.485 25.124C162.885 25.252 163.301 25.316 163.733 25.316C164.309 25.316 164.733 25.228 165.005 25.052C165.285 24.868 165.425 24.612 165.425 24.284C165.425 24.052 165.349 23.872 165.197 23.744C165.045 23.608 164.853 23.508 164.621 23.444C164.389 23.372 164.081 23.304 163.697 23.24C163.185 23.144 162.773 23.048 162.461 22.952C162.149 22.848 161.881 22.676 161.657 22.436C161.441 22.196 161.333 21.864 161.333 21.44C161.333 20.912 161.553 20.48 161.993 20.144C162.433 19.808 163.045 19.64 163.829 19.64C164.237 19.64 164.645 19.696 165.053 19.808C165.461 19.912 165.797 20.052 166.061 20.228L165.689 20.912C165.169 20.552 164.549 20.372 163.829 20.372C163.285 20.372 162.873 20.468 162.593 20.66C162.321 20.852 162.185 21.104 162.185 21.416C162.185 21.656 162.261 21.848 162.413 21.992C162.573 22.136 162.769 22.244 163.001 22.316C163.233 22.38 163.553 22.448 163.961 22.52C164.465 22.616 164.869 22.712 165.173 22.808C165.477 22.904 165.737 23.068 165.953 23.3C166.169 23.532 166.277 23.852 166.277 24.26C166.277 24.812 166.045 25.252 165.581 25.58C165.125 25.9 164.489 26.06 163.673 26.06Z"\n            transform="translate(44 303)" fill="#4A4A4A" />\n        <path d="M73.5343 8H75.7543V27.08H87.5143V29H73.5343V8ZM104.256 21.77H91.0559C91.1759 23.41 91.8059 24.74 92.9459 25.76C94.0859 26.76 95.5259 27.26 97.2659 27.26C98.2459 27.26 99.1459 27.09 99.9659 26.75C100.786 26.39 101.496 25.87 102.096 25.19L103.296 26.57C102.596 27.41 101.716 28.05 100.656 28.49C99.6159 28.93 98.4659 29.15 97.2059 29.15C95.5859 29.15 94.1459 28.81 92.8859 28.13C91.6459 27.43 90.6759 26.47 89.9759 25.25C89.2759 24.03 88.9259 22.65 88.9259 21.11C88.9259 19.57 89.2559 18.19 89.9159 16.97C90.5959 15.75 91.5159 14.8 92.6759 14.12C93.8559 13.44 95.1759 13.1 96.6359 13.1C98.0959 13.1 99.4059 13.44 100.566 14.12C101.726 14.8 102.636 15.75 103.296 16.97C103.956 18.17 104.286 19.55 104.286 21.11L104.256 21.77ZM96.6359 14.93C95.1159 14.93 93.8359 15.42 92.7959 16.4C91.7759 17.36 91.1959 18.62 91.0559 20.18H102.246C102.106 18.62 101.516 17.36 100.476 16.4C99.4559 15.42 98.1759 14.93 96.6359 14.93ZM121.588 13.22L114.568 29H112.378L105.388 13.22H107.608L113.518 26.66L119.488 13.22H121.588ZM137.889 21.77H124.689C124.809 23.41 125.439 24.74 126.579 25.76C127.719 26.76 129.159 27.26 130.899 27.26C131.879 27.26 132.779 27.09 133.599 26.75C134.419 26.39 135.129 25.87 135.729 25.19L136.929 26.57C136.229 27.41 135.349 28.05 134.289 28.49C133.249 28.93 132.099 29.15 130.839 29.15C129.219 29.15 127.779 28.81 126.519 28.13C125.279 27.43 124.309 26.47 123.609 25.25C122.909 24.03 122.559 22.65 122.559 21.11C122.559 19.57 122.889 18.19 123.549 16.97C124.229 15.75 125.149 14.8 126.309 14.12C127.489 13.44 128.809 13.1 130.269 13.1C131.729 13.1 133.039 13.44 134.199 14.12C135.359 14.8 136.269 15.75 136.929 16.97C137.589 18.17 137.919 19.55 137.919 21.11L137.889 21.77ZM130.269 14.93C128.749 14.93 127.469 15.42 126.429 16.4C125.409 17.36 124.829 18.62 124.689 20.18H135.879C135.739 18.62 135.149 17.36 134.109 16.4C133.089 15.42 131.809 14.93 130.269 14.93ZM144.294 16.31C144.794 15.25 145.534 14.45 146.514 13.91C147.514 13.37 148.744 13.1 150.204 13.1V15.17L149.694 15.14C148.034 15.14 146.734 15.65 145.794 16.67C144.854 17.69 144.384 19.12 144.384 20.96V29H142.254V13.22H144.294V16.31ZM158.408 29.15C157.128 29.15 155.898 28.97 154.718 28.61C153.558 28.23 152.648 27.76 151.988 27.2L152.948 25.52C153.608 26.04 154.438 26.47 155.438 26.81C156.438 27.13 157.478 27.29 158.558 27.29C159.998 27.29 161.058 27.07 161.738 26.63C162.438 26.17 162.788 25.53 162.788 24.71C162.788 24.13 162.598 23.68 162.218 23.36C161.838 23.02 161.358 22.77 160.778 22.61C160.198 22.43 159.428 22.26 158.468 22.1C157.188 21.86 156.158 21.62 155.378 21.38C154.598 21.12 153.928 20.69 153.368 20.09C152.828 19.49 152.558 18.66 152.558 17.6C152.558 16.28 153.108 15.2 154.208 14.36C155.308 13.52 156.838 13.1 158.798 13.1C159.818 13.1 160.838 13.24 161.858 13.52C162.878 13.78 163.718 14.13 164.378 14.57L163.448 16.28C162.148 15.38 160.598 14.93 158.798 14.93C157.438 14.93 156.408 15.17 155.708 15.65C155.028 16.13 154.688 16.76 154.688 17.54C154.688 18.14 154.878 18.62 155.258 18.98C155.658 19.34 156.148 19.61 156.728 19.79C157.308 19.95 158.108 20.12 159.128 20.3C160.388 20.54 161.398 20.78 162.158 21.02C162.918 21.26 163.568 21.67 164.108 22.25C164.648 22.83 164.918 23.63 164.918 24.65C164.918 26.03 164.338 27.13 163.178 27.95C162.038 28.75 160.448 29.15 158.408 29.15Z"\n            transform="translate(51 267)" fill="#4A4A4A" />\n        <path d="M6.91631 22.9256L2.06744 22.8459C0.962995 22.8278 0.0812562 21.844 0.0980152 20.6486C0.101941 20.3686 0.156037 20.0921 0.257256 19.8344L7.53039 1.31833C7.96257 0.218072 9.13692 -0.294647 10.1534 0.173138C10.6166 0.386288 10.9885 0.780626 11.1949 1.27747L18.9908 20.0411C19.4438 21.1315 18.9944 22.4129 17.987 22.9032C17.7197 23.0333 17.4293 23.0983 17.1363 23.0934L11.9163 23.0077V228.775L17.0998 228.86C18.2042 228.878 19.086 229.862 19.0692 231.057C19.0653 231.337 19.0112 231.614 18.91 231.871L11.6368 250.387C11.2047 251.488 10.0302 252 9.01373 251.533C8.55054 251.319 8.17865 250.925 7.97222 250.428L0.176445 231.665C-0.276582 230.574 0.172837 229.293 1.18023 228.802C1.44747 228.672 1.73783 228.607 2.03082 228.612L6.91631 228.693V22.9256Z"\n            transform="translate(318 43)" fill="#C2C2C2" />\n        <path d="M6.91633 22.9256L2.06743 22.8459C0.96299 22.8278 0.0812486 21.844 0.0980083 20.6486C0.101934 20.3686 0.156004 20.0921 0.257223 19.8344L7.53035 1.31833C7.96253 0.218072 9.13693 -0.294647 10.1534 0.173138C10.6166 0.386288 10.9885 0.780626 11.195 1.27747L18.9907 20.0411C19.4438 21.1315 18.9944 22.4129 17.987 22.9032C17.7197 23.0333 17.4293 23.0983 17.1364 23.0934L11.9163 23.0077V228.775L17.0998 228.86C18.2042 228.878 19.0859 229.862 19.0692 231.057C19.0653 231.337 19.0112 231.614 18.91 231.871L11.6368 250.387C11.2047 251.488 10.0303 252 9.01375 251.533C8.55057 251.319 8.17866 250.925 7.97223 250.428L0.176448 231.665C-0.276579 230.574 0.172824 229.293 1.18022 228.802C1.44746 228.672 1.73785 228.607 2.03084 228.612L6.91633 228.693V22.9256Z"\n            transform="translate(0 43)" fill="#C2C2C2" />\n    </svg>'},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,"svg {\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    min-width: 320px;\n    padding-bottom: 100%;\n    vertical-align: middle;\n    overflow: hidden;\n}\n\n[data-draggable] {\n    opacity: 0.1;\n}",""])},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(t,n){var r=200,i="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,u=1/0,c=9007199254740991,l="[object Arguments]",h="[object Array]",p="[object Boolean]",f="[object Date]",d="[object Error]",y="[object Function]",_="[object GeneratorFunction]",v="[object Map]",C="[object Number]",g="[object Object]",m="[object RegExp]",b="[object Set]",E="[object String]",w="[object Symbol]",S="[object ArrayBuffer]",T="[object DataView]",P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/,N=/^\./,I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A=/\\(\\)?/g,R=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,L={};L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L[l]=L[h]=L[S]=L[p]=L[T]=L[f]=L[d]=L[y]=L[v]=L[C]=L[g]=L[m]=L[b]=L[E]=L["[object WeakMap]"]=!1;var x="object"==typeof t&&t&&t.Object===Object&&t,k="object"==typeof self&&self&&self.Object===Object&&self,M=x||k||Function("return this")(),V="object"==typeof e&&e&&!e.nodeType&&e,F=V&&"object"==typeof n&&n&&!n.nodeType&&n,H=F&&F.exports===V&&x.process,j=function(){try{return H&&H.binding("util")}catch(t){}}(),W=j&&j.isTypedArray;function q(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function U(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Q(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function B(t){return function(e){return t(e)}}function Z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Y,G,$,X=Array.prototype,J=Function.prototype,tt=Object.prototype,et=M["__core-js_shared__"],nt=(Y=/[^.]+$/.exec(et&&et.keys&&et.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",rt=J.toString,it=tt.hasOwnProperty,ot=tt.toString,at=RegExp("^"+rt.call(it).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),st=M.Symbol,ut=M.Uint8Array,ct=tt.propertyIsEnumerable,lt=X.splice,ht=st?st.isConcatSpreadable:void 0,pt=(G=Object.keys,$=Object,function(t){return G($(t))}),ft=Math.max,dt=Gt(M,"DataView"),yt=Gt(M,"Map"),_t=Gt(M,"Promise"),vt=Gt(M,"Set"),Ct=Gt(M,"WeakMap"),gt=Gt(Object,"create"),mt=ae(dt),bt=ae(yt),Et=ae(_t),wt=ae(vt),St=ae(Ct),Tt=st?st.prototype:void 0,Pt=Tt?Tt.valueOf:void 0,Ot=Tt?Tt.toString:void 0;function Nt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rt(t){var e=-1,n=t?t.length:0;for(this.__data__=new At;++e<n;)this.add(t[e])}function Dt(t){this.__data__=new It(t)}function Lt(t,e){var n=he(t)||le(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!it.call(t,o)||i&&("length"==o||Jt(o,r))||n.push(o);return n}function xt(t,e){for(var n=t.length;n--;)if(ce(t[n][0],e))return n;return-1}Nt.prototype.clear=function(){this.__data__=gt?gt(null):{}},Nt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Nt.prototype.get=function(t){var e=this.__data__;if(gt){var n=e[t];return n===o?void 0:n}return it.call(e,t)?e[t]:void 0},Nt.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:it.call(e,t)},Nt.prototype.set=function(t,e){return this.__data__[t]=gt&&void 0===e?o:e,this},It.prototype.clear=function(){this.__data__=[]},It.prototype.delete=function(t){var e=this.__data__,n=xt(e,t);return!(n<0||(n==e.length-1?e.pop():lt.call(e,n,1),0))},It.prototype.get=function(t){var e=this.__data__,n=xt(e,t);return n<0?void 0:e[n][1]},It.prototype.has=function(t){return xt(this.__data__,t)>-1},It.prototype.set=function(t,e){var n=this.__data__,r=xt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},At.prototype.clear=function(){this.__data__={hash:new Nt,map:new(yt||It),string:new Nt}},At.prototype.delete=function(t){return Yt(this,t).delete(t)},At.prototype.get=function(t){return Yt(this,t).get(t)},At.prototype.has=function(t){return Yt(this,t).has(t)},At.prototype.set=function(t,e){return Yt(this,t).set(t,e),this},Rt.prototype.add=Rt.prototype.push=function(t){return this.__data__.set(t,o),this},Rt.prototype.has=function(t){return this.__data__.has(t)},Dt.prototype.clear=function(){this.__data__=new It},Dt.prototype.delete=function(t){return this.__data__.delete(t)},Dt.prototype.get=function(t){return this.__data__.get(t)},Dt.prototype.has=function(t){return this.__data__.has(t)},Dt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof It){var i=n.__data__;if(!yt||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new At(i)}return n.set(t,e),this};var kt,Mt,Vt=(kt=function(t,e){return t&&Ft(t,e,ge)},function(t,e){if(null==t)return t;if(!pe(t))return kt(t,e);for(var n=t.length,r=Mt?n:-1,i=Object(t);(Mt?r--:++r<n)&&!1!==e(i[r],r,i););return t});var Ft=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}();function Ht(t,e){for(var n=0,r=(e=ee(e,t)?[e]:Zt(e)).length;null!=t&&n<r;)t=t[oe(e[n++])];return n&&n==r?t:void 0}function jt(t,e){return null!=t&&e in Object(t)}function Wt(t,e,n,r,i){return t===e||(null==t||null==e||!ye(t)&&!_e(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var u=he(t),c=he(e),y=h,_=h;u||(y=(y=$t(t))==l?g:y);c||(_=(_=$t(e))==l?g:_);var P=y==g&&!Z(t),O=_==g&&!Z(e),N=y==_;if(N&&!P)return o||(o=new Dt),u||Ce(t)?zt(t,e,n,r,i,o):function(t,e,n,r,i,o,u){switch(n){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!r(new ut(t),new ut(e)));case p:case f:case C:return ce(+t,+e);case d:return t.name==e.name&&t.message==e.message;case m:case E:return t==e+"";case v:var c=K;case b:var l=o&s;if(c||(c=z),t.size!=e.size&&!l)return!1;var h=u.get(t);if(h)return h==e;o|=a,u.set(t,e);var y=zt(c(t),c(e),r,i,o,u);return u.delete(t),y;case w:if(Pt)return Pt.call(t)==Pt.call(e)}return!1}(t,e,y,n,r,i,o);if(!(i&s)){var I=P&&it.call(t,"__wrapped__"),A=O&&it.call(e,"__wrapped__");if(I||A){var R=I?t.value():t,D=A?e.value():e;return o||(o=new Dt),n(R,D,r,i,o)}}if(!N)return!1;return o||(o=new Dt),function(t,e,n,r,i,o){var a=i&s,u=ge(t),c=u.length,l=ge(e).length;if(c!=l&&!a)return!1;for(var h=c;h--;){var p=u[h];if(!(a?p in e:it.call(e,p)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var d=!0;o.set(t,e),o.set(e,t);for(var y=a;++h<c;){p=u[h];var _=t[p],v=e[p];if(r)var C=a?r(v,_,p,e,t,o):r(_,v,p,t,e,o);if(!(void 0===C?_===v||n(_,v,r,i,o):C)){d=!1;break}y||(y="constructor"==p)}if(d&&!y){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o)}(t,e,Wt,n,r,i))}function qt(t){return!(!ye(t)||nt&&nt in t)&&(fe(t)||Z(t)?at:R).test(ae(t))}function Ut(t){return"function"==typeof t?t:null==t?me:"object"==typeof t?he(t)?function(t,e){if(ee(t)&&ne(e))return re(oe(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:Ht(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,i=-1,o=(e=ee(e,t)?[e]:Zt(e)).length;for(;++i<o;){var a=oe(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;return!!(o=t?t.length:0)&&de(o)&&Jt(a,o)&&(he(t)||le(t))}(t,e,jt)}(n,t):Wt(e,r,void 0,a|s)}}(t[0],t[1]):function(t){var e=function(t){var e=ge(t),n=e.length;for(;n--;){var r=e[n],i=t[r];e[n]=[r,i,ne(i)]}return e}(t);if(1==e.length&&e[0][2])return re(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,u=!r;if(null==t)return!o;for(t=Object(t);i--;){var c=n[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var l=(c=n[i])[0],h=t[l],p=c[1];if(u&&c[2]){if(void 0===h&&!(l in t))return!1}else{var f=new Dt;if(r)var d=r(h,p,l,t,e,f);if(!(void 0===d?Wt(p,h,r,a|s,f):d))return!1}}return!0}(n,t,e)}}(t):ee(e=t)?(n=oe(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return Ht(e,t)}}(e);var e,n}function Qt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||tt,e!==r)return pt(t);var e,n,r,i=[];for(var o in Object(t))it.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Bt(t,e,n){var r=-1;return e=q(e.length?e:[me],B(Ut)),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(function(t,e){var n=-1,r=pe(t)?Array(t.length):[];return Vt(t,function(t,i,o){r[++n]=e(t,i,o)}),r}(t,function(t,n,i){return{criteria:q(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Kt(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function Zt(t){return he(t)?t:ie(t)}function Kt(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=ve(t),a=void 0!==e,s=null===e,u=e==e,c=ve(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function zt(t,e,n,r,i,o){var u=i&s,c=t.length,l=e.length;if(c!=l&&!(u&&l>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var p=-1,f=!0,d=i&a?new Rt:void 0;for(o.set(t,e),o.set(e,t);++p<c;){var y=t[p],_=e[p];if(r)var v=u?r(_,y,p,e,t,o):r(y,_,p,t,e,o);if(void 0!==v){if(v)continue;f=!1;break}if(d){if(!Q(e,function(t,e){if(!d.has(e)&&(y===t||n(y,t,r,i,o)))return d.add(e)})){f=!1;break}}else if(y!==_&&!n(y,_,r,i,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Yt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Gt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return qt(n)?n:void 0}var $t=function(t){return ot.call(t)};function Xt(t){return he(t)||le(t)||!!(ht&&t&&t[ht])}function Jt(t,e){return!!(e=null==e?c:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function te(t,e,n){if(!ye(n))return!1;var r=typeof e;return!!("number"==r?pe(n)&&Jt(e,n.length):"string"==r&&e in n)&&ce(n[e],t)}function ee(t,e){if(he(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ve(t))||(O.test(t)||!P.test(t)||null!=e&&t in Object(e))}function ne(t){return t==t&&!ye(t)}function re(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(dt&&$t(new dt(new ArrayBuffer(1)))!=T||yt&&$t(new yt)!=v||_t&&"[object Promise]"!=$t(_t.resolve())||vt&&$t(new vt)!=b||Ct&&"[object WeakMap]"!=$t(new Ct))&&($t=function(t){var e=ot.call(t),n=e==g?t.constructor:void 0,r=n?ae(n):void 0;if(r)switch(r){case mt:return T;case bt:return v;case Et:return"[object Promise]";case wt:return b;case St:return"[object WeakMap]"}return e});var ie=ue(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ve(t))return Ot?Ot.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var n=[];return N.test(t)&&n.push(""),t.replace(I,function(t,e,r,i){n.push(r?i.replace(A,"$1"):e||t)}),n});function oe(t){if("string"==typeof t||ve(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function ae(t){if(null!=t){try{return rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var se=function(t,e){return e=ft(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=ft(n.length-e,0),o=Array(i);++r<i;)o[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=o,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,a)}}(function(t,e){if(null==t)return[];var n=e.length;return n>1&&te(t,e[0],e[1])?e=[]:n>2&&te(e[0],e[1],e[2])&&(e=[e[0]]),Bt(t,function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=Xt),o||(o=[]);++a<s;){var u=e[a];n>0&&r(u)?n>1?t(u,n-1,r,i,o):U(o,u):i||(o[o.length]=u)}return o}(e,1),[])});function ue(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(ue.Cache||At),n}function ce(t,e){return t===e||t!=t&&e!=e}function le(t){return function(t){return _e(t)&&pe(t)}(t)&&it.call(t,"callee")&&(!ct.call(t,"callee")||ot.call(t)==l)}ue.Cache=At;var he=Array.isArray;function pe(t){return null!=t&&de(t.length)&&!fe(t)}function fe(t){var e=ye(t)?ot.call(t):"";return e==y||e==_}function de(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function ye(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function _e(t){return!!t&&"object"==typeof t}function ve(t){return"symbol"==typeof t||_e(t)&&ot.call(t)==w}var Ce=W?B(W):function(t){return _e(t)&&de(t.length)&&!!L[ot.call(t)]};function ge(t){return pe(t)?Lt(t):Qt(t)}function me(t){return t}n.exports=se}).call(this,n(0),n(56)(t))},function(t,e,n){(function(e){var n=1/0,r=9007199254740991,i=1.7976931348623157e308,o=NaN,a=4294967295,s="[object Arguments]",u="[object Function]",c="[object GeneratorFunction]",l="[object Map]",h="[object Set]",p="[object String]",f="[object Symbol]",d=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,v=/^\[object .+?Constructor\]$/,C=/^0o[0-7]+$/i,g=/^(?:0|[1-9]\d*)$/,m="[\\ud800-\\udfff]",b="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",E="\\ud83c[\\udffb-\\udfff]",w="[^\\ud800-\\udfff]",S="(?:\\ud83c[\\udde6-\\uddff]){2}",T="[\\ud800-\\udbff][\\udc00-\\udfff]",P="(?:"+b+"|"+E+")"+"?",O="[\\ufe0e\\ufe0f]?"+P+("(?:\\u200d(?:"+[w,S,T].join("|")+")[\\ufe0e\\ufe0f]?"+P+")*"),N="(?:"+[w+b+"?",b,S,T,m].join("|")+")",I=RegExp(E+"(?="+E+")|"+N+O,"g"),A=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),R=parseInt,D="object"==typeof e&&e&&e.Object===Object&&e,L="object"==typeof self&&self&&self.Object===Object&&self,x=D||L||Function("return this")();function k(t,e){return function(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(e,function(e){return t[e]})}function M(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function F(t){return function(t){return A.test(t)}(t)?function(t){return t.match(I)||[]}(t):function(t){return t.split("")}(t)}var H,j,W,q=Function.prototype,U=Object.prototype,Q=x["__core-js_shared__"],B=(H=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",Z=q.toString,K=U.hasOwnProperty,z=U.toString,Y=RegExp("^"+Z.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=x.Symbol,$=G?G.iterator:void 0,X=U.propertyIsEnumerable,J=Math.floor,tt=(j=Object.keys,W=Object,function(t){return j(W(t))}),et=Math.random,nt=_t(x,"DataView"),rt=_t(x,"Map"),it=_t(x,"Promise"),ot=_t(x,"Set"),at=_t(x,"WeakMap"),st=gt(nt),ut=gt(rt),ct=gt(it),lt=gt(ot),ht=gt(at);function pt(t,e){var n=bt(t)||function(t){return function(t){return Tt(t)&&Et(t)}(t)&&K.call(t,"callee")&&(!X.call(t,"callee")||z.call(t)==s)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!K.call(t,o)||i&&("length"==o||Ct(o,r))||n.push(o);return n}function ft(t){return!(!St(t)||B&&B in t)&&(wt(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?Y:v).test(gt(t))}function dt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||U,e!==r)return tt(t);var e,n,r,i=[];for(var o in Object(t))K.call(t,o)&&"constructor"!=o&&i.push(o);return i}function yt(t,e){return t+J(et()*(e-t+1))}function _t(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ft(n)?n:void 0}var vt=function(t){return z.call(t)};function Ct(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||g.test(t))&&t>-1&&t%1==0&&t<e}function gt(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function mt(t,e,r){var a,s,u,c=-1,v=function(t){if(!t)return[];if(Et(t))return function(t){return"string"==typeof t||!bt(t)&&Tt(t)&&z.call(t)==p}(t)?F(t):function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t);if($&&t[$])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[$]());var e=vt(t);return(e==l?M:e==h?V:Pt)(t)}(t),g=v.length,m=g-1;for((r?function(t,e,n){if(!St(n))return!1;var r=typeof e;return!!("number"==r?Et(n)&&Ct(e,n.length):"string"==r&&e in n)&&function(t,e){return t===e||t!=t&&e!=e}(n[e],t)}(t,e,r):void 0===e)?e=1:(a=function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||Tt(t)&&z.call(t)==f}(t))return o;if(St(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=St(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(d,"");var n=_.test(t);return n||C.test(t)?R(t.slice(2),n?2:8):y.test(t)?o:+t}(t))===n||t===-n){var e=t<0?-1:1;return e*i}return t==t?t:0}(t),r=e%1;return e==e?r?e-r:e:0}(e),s=0,u=g,a==a&&(void 0!==u&&(a=a<=u?a:u),void 0!==s&&(a=a>=s?a:s)),e=a);++c<e;){var b=yt(c,m),E=v[b];v[b]=v[c],v[c]=E}return v.length=e,v}(nt&&"[object DataView]"!=vt(new nt(new ArrayBuffer(1)))||rt&&vt(new rt)!=l||it&&"[object Promise]"!=vt(it.resolve())||ot&&vt(new ot)!=h||at&&"[object WeakMap]"!=vt(new at))&&(vt=function(t){var e=z.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?gt(n):void 0;if(r)switch(r){case st:return"[object DataView]";case ut:return l;case ct:return"[object Promise]";case lt:return h;case ht:return"[object WeakMap]"}return e});var bt=Array.isArray;function Et(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!wt(t)}function wt(t){var e=St(t)?z.call(t):"";return e==u||e==c}function St(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Tt(t){return!!t&&"object"==typeof t}function Pt(t){return t?k(t,function(t){return Et(t)?pt(t):dt(t)}(t)):[]}t.exports=function(t){return mt(t,a)}}).call(this,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=n(30);e.default=function(t){var e=t.parent,n=t.node,o=t.index;!function(t,e){t.setAttribute("transform",(0,r.encodeTransformAttribute)(i.BLOCKS_COORDS[e]))}(n,o);var a=!1,s=void 0;return{startDrag:function(t){if(function(t,e){var n=e.target.closest("g[data-block]");return!!n&&n.getAttribute("data-block")===t.getAttribute("data-block")}(n,t)){var i=(0,r.getMousePosition)(e,t),o=(0,r.decodeTransformAttribute)(n.getAttributeNS(null,"transform"));s={x:i.x-o.x,y:i.y-o.y},a=!0}},onDrag:function(t){if(a){var i=(0,r.getMousePosition)(e,t),o=i.x,u=i.y;o-=s.x,u-=s.y,n.setAttribute("transform",(0,r.encodeTransformAttribute)({x:o,y:u}))}},endDrag:function(t){a=!1,s=void 0},get name(){return n.getAttribute("data-block")},get coords(){return(0,r.decodeTransformAttribute)(n.getAttribute("transform"))},get active(){return a}}}},function(t,e,n){"use strict";var r,i=n(31),o=(r=i)&&r.__esModule?r:{default:r};window.customElements.define("app-chart",o.default)},function(t,e,n){"use strict";n(60);var r=s(n(23)),i=s(n(30)),o=n(1),a=n(31);function s(t){return t&&t.__esModule?t:{default:t}}window.location.hash||(window.location.hash=(0,r.default)());var u=window.location.hash.substr(1),c=void 0,l=function(t){var e=t.detail,n=e.name,r=e.coords;i.default.changePosition(n,r)};i.default.init(u).then(function(t){window.requestAnimationFrame(function(){(c=document.querySelector("app-chart")).addEventListener(a.EVENTS.CHANGE_POSITION,l),(0,o.createAttributesObserver)(c,function(){var t;t=c,window.requestIdleCallback(function(){document.querySelector("a").href="data:image/svg+xml;base64,\n"+window.btoa(t.innerHTML)})})})}),i.default.addOnChangeListener(function(t){c.data=t}),document.querySelector("button").addEventListener("click",i.default.shuffle)}]);